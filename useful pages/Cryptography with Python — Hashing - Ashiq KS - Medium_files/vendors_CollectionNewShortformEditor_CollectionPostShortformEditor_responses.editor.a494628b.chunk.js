(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"./node_modules/debounce/index.js":function(e,t){function r(e,t,r){var n,o,a,i,s;function c(){var u=Date.now()-i;u<t&&u>=0?n=setTimeout(c,t-u):(n=null,r||(s=e.apply(a,o),a=o=null))}null==t&&(t=100);var u=function(){a=this,o=arguments,i=Date.now();var u=r&&!n;return n||(n=setTimeout(c,t)),u&&(s=e.apply(a,o),a=o=null),s};return u.clear=function(){n&&(clearTimeout(n),n=null)},u.flush=function(){n&&(s=e.apply(a,o),a=o=null,clearTimeout(n),n=null)},u}r.debounce=r,e.exports=r},"./node_modules/direction/index.js":function(e,t,r){"use strict";e.exports=function(e){if(e=String(e||""),o.test(e))return"rtl";if(a.test(e))return"ltr";return"neutral"};var n="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",o=new RegExp("^[^"+n+"]*[֑-߿יִ-﷽ﹰ-ﻼ]"),a=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*["+n+"]")},"./node_modules/esrever/esrever.js":function(e,t,r){(function(e,n){var o;/*! https://mths.be/esrever v0.2.0 by @mathias */!function(a){var i=t,s=(e&&e.exports,"object"==typeof n&&n);s.global!==s&&s.window;var c=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,u=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,l=function(e){for(var t="",r=(e=e.replace(c,(function(e,t,r){return l(r)+t})).replace(u,"$2$1")).length;r--;)t+=e.charAt(r);return t},f={version:"0.2.0",reverse:l};void 0===(o=function(){return f}.call(t,r,t,e))||(e.exports=o)}()}).call(this,r("./node_modules/webpack/buildin/module.js")(e),r("./node_modules/webpack/buildin/global.js"))},"./node_modules/immer/dist/immer.module.js":function(e,t,r){"use strict";(function(e){var n;r.d(t,"a",(function(){return ce})),r.d(t,"b",(function(){return ue})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return se}));var o,a,i="undefined"!=typeof Symbol,s="undefined"!=typeof Map,c="undefined"!=typeof Set,u=i?Symbol("immer-nothing"):((n={})["immer-nothing"]=!0,n),l=i?Symbol("immer-draftable"):"__$immer_draftable",f=i?Symbol("immer-state"):"__$immer_state",d=i?Symbol.iterator:"@@iterator",v=function(e,t){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function h(e,t){function r(){this.constructor=e}v(e,t),e.prototype=(r.prototype=t.prototype,new r)}function p(e){return!!e&&!!e[f]}function g(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[l]||!!e.constructor[l]||k(e)||E(e))}!function(e){e[e.Object=0]="Object",e[e.Array=1]="Array",e[e.Map=2]="Map",e[e.Set=3]="Set"}(o||(o={})),function(e){e[e.ProxyObject=0]="ProxyObject",e[e.ProxyArray=1]="ProxyArray",e[e.ES5Object=2]="ES5Object",e[e.ES5Array=3]="ES5Array",e[e.Map=4]="Map",e[e.Set=5]="Set"}(a||(a={}));var y="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function m(e,t){b(e)===o.Object?y(e).forEach((function(r){return t(r,e[r],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function b(e){if(e||S(),e[f])switch(e[f].type){case a.ES5Object:case a.ProxyObject:return o.Object;case a.ES5Array:case a.ProxyArray:return o.Array;case a.Map:return o.Map;case a.Set:return o.Set}return Array.isArray(e)?o.Array:k(e)?o.Map:E(e)?o.Set:o.Object}function w(e,t){return b(e)===o.Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function x(e,t){return b(e)===o.Map?e.get(t):e[t]}function O(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function k(e){return s&&e instanceof Map}function E(e){return c&&e instanceof Set}function j(e){return e.copy||e.base}function P(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var r=Object.create(Object.getPrototypeOf(e));return y(e).forEach((function(n){if(n!==f){var o=Object.getOwnPropertyDescriptor(e,n),a=o.value;if(o.get){if(!t)throw new Error("Immer drafts cannot have computed properties");a=o.get.call(e)}o.enumerable?r[n]=a:Object.defineProperty(r,n,{value:a,writable:!0,configurable:!0})}})),r}function F(e,t){if(g(e)&&!p(e)&&!Object.isFrozen(e)){var r=b(e);r===o.Set?e.add=e.clear=e.delete=C:r===o.Map&&(e.set=e.clear=e.delete=C),Object.freeze(e),t&&m(e,(function(e,t){return F(t,!0)}))}}function C(){throw new Error("This object has been frozen and should not be mutated")}function S(){throw new Error("Illegal state, please file a bug")}var D=function(){function e(e,t){this.drafts=[],this.parent=e,this.immer=t,this.canAutoFreeze=!0}return e.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},e.prototype.revoke=function(){this.leave(),this.drafts.forEach(A),this.drafts=null},e.prototype.leave=function(){this===e.current&&(e.current=this.parent)},e.enter=function(t){var r=new e(e.current,t);return e.current=r,r},e}();function A(e){var t=e[f];t.type===a.ProxyObject||t.type===a.ProxyArray?t.revoke():t.revoked=!0}function B(e,t,r){var n=r.drafts[0],o=void 0!==t&&t!==n;if(e.willFinalize(r,t,o),o){if(n[f].modified)throw r.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");g(t)&&(t=_(e,t,r),r.parent||M(e,t)),r.patches&&(r.patches.push({op:"replace",path:[],value:t}),r.inversePatches.push({op:"replace",path:[],value:n[f].base}))}else t=_(e,n,r,[]);return r.revoke(),r.patches&&r.patchListener(r.patches,r.inversePatches),t!==u?t:void 0}function _(e,t,r,n){var o=t[f];if(!o)return Object.isFrozen(t)?t:N(e,t,r);if(o.scope!==r)return t;if(!o.modified)return M(e,o.base,!0),o.base;if(!o.finalized){if(o.finalized=!0,N(e,o.draft,r,n),e.onDelete&&o.type!==a.Set)if(e.useProxies){m(o.assigned,(function(t,r){r||e.onDelete(o,t)}))}else{var i=o.base,s=o.copy;m(i,(function(t){w(s,t)||e.onDelete(o,t)}))}e.onCopy&&e.onCopy(o),e.autoFreeze&&r.canAutoFreeze&&F(o.copy,!1),n&&r.patches&&function(e,t,r,n){switch(e.type){case a.ProxyObject:case a.ES5Object:case a.Map:return function(e,t,r,n){var o=e.base,a=e.copy;m(e.assigned,(function(e,i){var s=x(o,e),c=x(a,e),u=i?w(o,e)?"replace":"add":"remove";if(s!==c||"replace"!==u){var l=t.concat(e);r.push("remove"===u?{op:u,path:l}:{op:u,path:l,value:c}),n.push("add"===u?{op:"remove",path:l}:"remove"===u?{op:"add",path:l,value:s}:{op:"replace",path:l,value:s})}}))}(e,t,r,n);case a.ES5Array:case a.ProxyArray:return function(e,t,r,n){var o,a,i=e.base,s=e.assigned,c=e.copy;c||S();c.length<i.length&&(i=(o=[c,i])[0],c=o[1],r=(a=[n,r])[0],n=a[1]);var u=c.length-i.length,l=0;for(;i[l]===c[l]&&l<i.length;)++l;var f=i.length;for(;f>l&&i[f-1]===c[f+u-1];)--f;for(var d=l;d<f;++d)if(s[d]&&c[d]!==i[d]){var v=t.concat([d]);r.push({op:"replace",path:v,value:c[d]}),n.push({op:"replace",path:v,value:i[d]})}var h=r.length;for(d=f+u-1;d>=f;--d){v=t.concat([d]);r[h+d-f]={op:"add",path:v,value:c[d]},n.push({op:"remove",path:v})}}(e,t,r,n);case a.Set:(function(e,t,r,n){var o=e.base,a=e.copy,i=0;o.forEach((function(e){if(!a.has(e)){var o=t.concat([i]);r.push({op:"remove",path:o,value:e}),n.unshift({op:"add",path:o,value:e})}i++})),i=0,a.forEach((function(e){if(!o.has(e)){var a=t.concat([i]);r.push({op:"add",path:a,value:e}),n.unshift({op:"remove",path:a,value:e})}i++}))})(e,t,r,n)}}(o,n,r.patches,r.inversePatches)}return o.copy}function N(e,t,r,n){var i=t[f];return i&&(i.type!==a.ES5Object&&i.type!==a.ES5Array||(i.copy=P(i.draft,!0)),t=i.copy),m(t,(function(a,s){return function e(t,r,n,a,i,s,c,u){if(c===i)throw Error("Immer forbids circular references");var l=!!a&&i===n,f=E(i);if(p(c)){var d=u&&l&&!f&&!w(a.assigned,s)?u.concat(s):void 0;c=_(t,c,r,d),function(e,t,r){switch(b(e)){case o.Map:e.set(t,r);break;case o.Set:e.delete(t),e.add(r);break;default:e[t]=r}}(i,s,c),p(c)&&(r.canAutoFreeze=!1)}else{if(l&&O(c,x(a.base,s)))return;g(c)&&(m(c,(function(o,i){return e(t,r,n,a,c,o,i,u)})),r.parent||M(t,c))}l&&t.onAssign&&!f&&t.onAssign(a,s,c)}(e,r,t,i,t,a,s,n)})),t}function M(e,t,r){void 0===r&&(r=!1),e.autoFreeze&&!p(t)&&F(t,r)}var R={get:function(e,t){if(t===f)return e;var r=e.drafts;if(!e.modified&&w(r,t))return r[t];var n=j(e)[t];if(e.finalized||!g(n))return n;if(e.modified){if(n!==L(e.base,t))return n;r=e.copy}return r[t]=e.scope.immer.createProxy(n,e)},has:function(e,t){return t in j(e)},ownKeys:function(e){return Reflect.ownKeys(j(e))},set:function(e,t,r){if(!e.modified){var n=L(e.base,t);if(r?O(n,r)||r===e.drafts[t]:O(n,r)&&t in e.base)return!0;W(e),z(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){return void 0!==L(e.base,t)||t in e.base?(e.assigned[t]=!1,W(e),z(e)):e.assigned[t]&&delete e.assigned[t],e.copy&&delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var r=j(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&(n.writable=!0,n.configurable=e.type!==a.ProxyArray||"length"!==t),n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},T={};function L(e,t){var r=e[f],n=Reflect.getOwnPropertyDescriptor(r?j(r):e,t);return n&&n.value}function z(e){if(!e.modified){if(e.modified=!0,e.type===a.ProxyObject||e.type===a.ProxyArray){var t=e.copy=P(e.base);m(e.drafts,(function(e,r){t[e]=r})),e.drafts=void 0}e.parent&&z(e.parent)}}function W(e){e.copy||(e.copy=P(e.base))}function I(e,t,r){e.drafts.forEach((function(e){e[f].finalizing=!0})),r?p(t)&&t[f].scope===e&&X(e.drafts):(e.patches&&function e(t){if(!t||"object"!=typeof t)return;var r=t[f];if(!r)return;var n=r.base,o=r.draft,i=r.assigned,s=r.type;if(s===a.ES5Object)m(o,(function(t){t!==f&&(void 0!==n[t]||w(n,t)?i[t]||e(o[t]):(i[t]=!0,K(r)))})),m(n,(function(e){void 0!==o[e]||w(o,e)||(i[e]=!1,K(r))}));else if(s===a.ES5Array){if($(r)&&(K(r),i.length=!0),o.length<n.length)for(var c=o.length;c<n.length;c++)i[c]=!1;else for(c=n.length;c<o.length;c++)i[c]=!0;var u=Math.min(o.length,n.length);for(c=0;c<u;c++)void 0===i[c]&&e(o[c])}}(e.drafts[0]),X(e.drafts))}function q(e,t){var r=Array.isArray(e),n=J(e);m(n,(function(t){!function(e,t,r){var n=U[t];n?n.enumerable=r:U[t]=n={configurable:!0,enumerable:r,get:function(){return function(e,t){Y(e);var r=V(j(e),t);if(e.finalizing)return r;if(r===V(e.base,t)&&g(r))return H(e),e.copy[t]=e.scope.immer.createProxy(r,e);return r}(this[f],t)},set:function(e){!function(e,t,r){if(Y(e),e.assigned[t]=!0,!e.modified){if(O(r,V(j(e),t)))return;K(e),H(e)}e.copy[t]=r}(this[f],t,e)}};Object.defineProperty(e,t,n)}(n,t,r||function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(!r||!r.enumerable)}(e,t))}));var o,i,s,c={type:r?a.ES5Array:a.ES5Object,scope:t?t.scope:D.current,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoked:!1,isManual:!1};return o=n,i=f,s=c,Object.defineProperty(o,i,{value:s,enumerable:!1,writable:!0}),n}function V(e,t){var r=e[f];if(r&&!r.finalizing){r.finalizing=!0;var n=e[t];return r.finalizing=!1,n}return e[t]}function K(e){e.modified||(e.modified=!0,e.parent&&K(e.parent))}function H(e){e.copy||(e.copy=J(e.base))}function J(e){var t=e&&e[f];if(t){t.finalizing=!0;var r=P(t.draft,!0);return t.finalizing=!1,r}return P(e)}m(R,(function(e,t){T[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),T.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return R.deleteProperty.call(this,e[0],t)},T.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return R.set.call(this,e[0],t,r,e[0])};var U={};function Y(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(j(e)))}function X(e){for(var t=e.length-1;t>=0;t--){var r=e[t][f];if(!r.modified)switch(r.type){case a.ES5Array:$(r)&&K(r);break;case a.ES5Object:Z(r)&&K(r)}}}function Z(e){for(var t=e.base,r=e.draft,n=Object.keys(r),o=n.length-1;o>=0;o--){var a=n[o],i=t[a];if(void 0===i&&!w(t,a))return!0;var s=r[a],c=s&&s[f];if(c?c.base!==i:!O(s,i))return!0}return n.length!==Object.keys(t).length}function $(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var G=function(e){if(!e)throw new Error("Map is not polyfilled");function t(e,t){return this[f]={type:a.Map,parent:t,scope:t?t.scope:D.current,modified:!1,finalized:!1,copy:void 0,assigned:void 0,base:e,draft:this,isManual:!1,revoked:!1},this}h(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return j(this[f]).size},enumerable:!0,configurable:!0}),r.has=function(e){return j(this[f]).has(e)},r.set=function(e,t){var r=this[f];return Y(r),j(r).get(e)!==t&&(Q(r),r.scope.immer.markChanged(r),r.assigned.set(e,!0),r.copy.set(e,t),r.assigned.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[f];return Y(t),Q(t),t.scope.immer.markChanged(t),t.assigned.set(e,!1),t.copy.delete(e),!0},r.clear=function(){var e=this[f];return Y(e),Q(e),e.scope.immer.markChanged(e),e.assigned=new Map,e.copy.clear()},r.forEach=function(e,t){var r=this;j(this[f]).forEach((function(n,o,a){e.call(t,r.get(o),o,r)}))},r.get=function(e){var t=this[f];Y(t);var r=j(t).get(e);if(t.finalized||!g(r))return r;if(r!==t.base.get(e))return r;var n=t.scope.immer.createProxy(r,t);return Q(t),t.copy.set(e,n),n},r.keys=function(){return j(this[f]).keys()},r.values=function(){var e,t=this,r=this.keys();return(e={})[d]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,r=this.keys();return(e={})[d]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},r[d]=function(){return this.entries()},t}(Map);function Q(e){e.copy||(e.assigned=new Map,e.copy=new Map(e.base))}var ee=function(e){if(!e)throw new Error("Set is not polyfilled");function t(e,t){return this[f]={type:a.Set,parent:t,scope:t?t.scope:D.current,modified:!1,finalized:!1,copy:void 0,base:e,draft:this,drafts:new Map,revoked:!1,isManual:!1},this}h(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return j(this[f]).size},enumerable:!0,configurable:!0}),r.has=function(e){var t=this[f];return Y(t),t.copy?!!t.copy.has(e)||!(!t.drafts.has(e)||!t.copy.has(t.drafts.get(e))):t.base.has(e)},r.add=function(e){var t=this[f];return Y(t),t.copy?t.copy.add(e):t.base.has(e)||(te(t),t.scope.immer.markChanged(t),t.copy.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[f];return Y(t),te(t),t.scope.immer.markChanged(t),t.copy.delete(e)||!!t.drafts.has(e)&&t.copy.delete(t.drafts.get(e))},r.clear=function(){var e=this[f];return Y(e),te(e),e.scope.immer.markChanged(e),e.copy.clear()},r.values=function(){var e=this[f];return Y(e),te(e),e.copy.values()},r.entries=function(){var e=this[f];return Y(e),te(e),e.copy.entries()},r.keys=function(){return this.values()},r[d]=function(){return this.values()},r.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}(Set);function te(e){e.copy||(e.copy=new Set,e.base.forEach((function(t){if(g(t)){var r=e.scope.immer.createProxy(t,e);e.drafts.set(t,r),e.copy.add(r)}else e.copy.add(t)})))}function re(e,t){return t.forEach((function(t){var r=t.path,n=t.op;r.length||S();for(var a=e,i=0;i<r.length-1;i++)if(!(a=x(a,r[i]))||"object"!=typeof a)throw new Error("Cannot apply patch, path doesn't resolve: "+r.join("/"));var s=b(a),c=ne(t.value),u=r[r.length-1];switch(n){case"replace":switch(s){case o.Map:return a.set(u,c);case o.Set:throw new Error('Sets cannot have "replace" patches.');default:return a[u]=c}case"add":switch(s){case o.Array:return a.splice(u,0,c);case o.Map:return a.set(u,c);case o.Set:return a.add(c);default:return a[u]=c}case"remove":switch(s){case o.Array:return a.splice(u,1);case o.Map:return a.delete(u);case o.Set:return a.delete(t.value);default:return delete a[u]}default:throw new Error("Unsupported patch operation: "+n)}})),e}function ne(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(ne);if(k(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],ne(e[1])]})));if(E(e))return new Set(Array.from(e).map(ne));var t=Object.create(Object.getPrototypeOf(e));for(var r in e)t[r]=ne(e[r]);return t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function oe(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)n[o]=a[i];return n}var ae={useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:void 0===e&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},ie=new(function(){function e(e){var t=this;this.useProxies=!1,this.autoFreeze=!1,m(ae,(function(r,n){var o,a;t[r]=null!=(a=null===(o=e)||void 0===o?void 0:o[r])?a:n})),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}return e.prototype.produce=function(e,t,r){var n,o=this;if("function"==typeof e&&"function"!=typeof t){var a=t;t=e;var i=this;return function(e){var r=arguments,n=this;void 0===e&&(e=a);for(var o=[],s=1;s<arguments.length;s++)o[s-1]=r[s];return i.produce(e,(function(e){return t.call.apply(t,oe([n,e],o))}))}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(g(e)){var s=D.enter(this),c=this.createProxy(e,void 0),l=!0;try{n=t(c),l=!1}finally{l?s.revoke():s.leave()}return"undefined"!=typeof Promise&&n instanceof Promise?n.then((function(e){return s.usePatches(r),B(o,e,s)}),(function(e){throw s.revoke(),e})):(s.usePatches(r),B(this,n,s))}if((n=t(e))!==u)return void 0===n&&(n=e),M(this,n,!0),n},e.prototype.produceWithPatches=function(e,t,r){var n,o,a=this;return"function"==typeof e?function(t){for(var r=arguments,n=[],o=1;o<arguments.length;o++)n[o-1]=r[o];return a.produceWithPatches(t,(function(t){return e.apply(void 0,oe([t],n))}))}:(r&&S(),[this.produce(e,t,(function(e,t){n=e,o=t})),n,o])},e.prototype.createDraft=function(e){if(!g(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=D.enter(this),r=this.createProxy(e,void 0);return r[f].isManual=!0,t.leave(),r},e.prototype.finishDraft=function(e,t){var r=e&&e[f];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(t),B(this,void 0,n)},e.prototype.setAutoFreeze=function(e){this.autoFreeze=e},e.prototype.setUseProxies=function(e){this.useProxies=e},e.prototype.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return p(e)?re(e,t):this.produce(e,(function(e){return re(e,t.slice(r+1))}))},e.prototype.createProxy=function(e,t){var r=k(e)?function(e,t){return new G(e,t)}(e,t):E(e)?function(e,t){return new ee(e,t)}(e,t):this.useProxies?function(e,t){var r=Array.isArray(e),n={type:r?a.ProxyArray:a.ProxyObject,scope:t?t.scope:D.current,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null,isManual:!1},o=n,i=R;r&&(o=[n],i=T);var s=Proxy.revocable(o,i),c=s.revoke,u=s.proxy;return n.draft=u,n.revoke=c,u}(e,t):q(e,t);return(t?t.scope:D.current).drafts.push(r),r},e.prototype.willFinalize=function(e,t,r){this.useProxies||I(e,t,r)},e.prototype.markChanged=function(e){this.useProxies?z(e):K(e)},e}()),se=ie.produce,ce=(ie.produceWithPatches.bind(ie),ie.setAutoFreeze.bind(ie),ie.setUseProxies.bind(ie),ie.applyPatches.bind(ie),ie.createDraft.bind(ie)),ue=ie.finishDraft.bind(ie)}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/is-hotkey/lib/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),o={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},a={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)i["f"+s]=111+s;function c(e,t,r){!t||"byKey"in t||(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return u(e,t)})),o=function(e){return n.some((function(t){return l(t,e)}))};return null==r?o:o(r)}function u(e,t){var r=t&&t.byKey,n={},a=(e=e.replace("++","+add")).split("+"),i=a.length;for(var s in o)n[o[s]]=!1;var c=!0,u=!1,l=void 0;try{for(var v,h=a[Symbol.iterator]();!(c=(v=h.next()).done);c=!0){var p=v.value,g=p.endsWith("?")&&p.length>1;g&&(p=p.slice(0,-1));var y=d(p),m=o[y];1!==i&&m||(r?n.key=y:n.which=f(p)),m&&(n[m]=!g||null)}}catch(e){u=!0,l=e}finally{try{!c&&h.return&&h.return()}finally{if(u)throw l}}return n}function l(e,t){for(var r in e){var n=e[r],o=void 0;if(null!=n&&((null!=(o="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&o!==n))return!1}return!0}function f(e){return e=d(e),i[e]||e.toUpperCase().charCodeAt(0)}function d(e){return e=e.toLowerCase(),e=a[e]||e}t.default=c,t.isHotkey=c,t.isCodeHotkey=function(e,t){return c(e,t)},t.isKeyHotkey=function(e,t){return c(e,{byKey:!0},t)},t.parseHotkey=u,t.compareHotkey=l,t.toKeyCode=f,t.toKeyName=d},"./node_modules/slate-history/dist/index.es.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r("./node_modules/@babel/runtime/helpers/typeof.js"),o=r.n(n);
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function a(e){return!0==(null!=(t=e)&&"object"===o()(t)&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var t}var i=r("./node_modules/slate/dist/index.es.js"),s=function(e){return!1!==a(t=e)&&"function"==typeof(r=t.constructor)&&!1!==a(n=r.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||i.d.isOperationList(e.redos[0]))&&(0===e.undos.length||i.d.isOperationList(e.undos[0]));var t,r,n},c=(new WeakMap,new WeakMap),u=new WeakMap,l={isHistoryEditor:function(e){return i.a.isEditor(e)&&s(e.history)},isMerging:function(e){return u.get(e)},isSaving:function(e){return c.get(e)},redo:function(e){e.redo()},undo:function(e){e.undo()},withoutMerging:function(e,t){var r=l.isMerging(e);u.set(e,!1),t(),u.set(e,r)},withoutSaving:function(e,t){var r=l.isSaving(e);c.set(e,!1),t(),c.set(e,r)}},f=function(e){var t=e,r=t.apply;return t.history={undos:[],redos:[]},t.redo=function(){var e=t.history,r=e.redos;if(r.length>0){var n=r[r.length-1];l.withoutSaving(t,(function(){i.a.withoutNormalizing(t,(function(){var e=!0,r=!1,o=void 0;try{for(var a,i=n[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var s=a.value;t.apply(s)}}catch(e){r=!0,o=e}finally{try{e||null==i.return||i.return()}finally{if(r)throw o}}}))})),e.redos.pop(),e.undos.push(n)}},t.undo=function(){var e=t.history,r=e.undos;if(r.length>0){var n=r[r.length-1];l.withoutSaving(t,(function(){i.a.withoutNormalizing(t,(function(){var e=n.map(i.d.inverse).reverse(),r=!0,o=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;u===e[e.length-1]&&"set_selection"===u.type&&null==u.newProperties||t.apply(u)}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}}))})),e.redos.push(n),e.undos.pop()}},t.apply=function(e){var n=t.operations,o=t.history,a=o.undos,i=a[a.length-1],s=i&&i[i.length-1],c=h(e,s),u=l.isSaving(t),f=l.isMerging(t);if(null==u&&(u=v(e)),u){if(null==f&&(f=null!=i&&(0!==n.length||(d(e,s)||c))),i&&f)c&&i.pop(),i.push(e);else{var g=[e];a.push(g)}for(;a.length>100;)a.shift();p(e)&&(o.redos=[])}r(e)},t},d=function(e,t){return"set_selection"===e.type||(!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!i.e.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!i.e.equals(e.path,t.path)))},v=function(e,t){return"set_selection"!==e.type||null!=e.newProperties},h=function(e,t){return!(!t||"set_selection"!==e.type||"set_selection"!==t.type)},p=function(e){return"set_selection"!==e.type}},"./node_modules/slate-react/dist/index.es.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return we})),r.d(t,"b",(function(){return Ae})),r.d(t,"c",(function(){return Ne})),r.d(t,"d",(function(){return _e})),r.d(t,"e",(function(){return $})),r.d(t,"f",(function(){return pe})),r.d(t,"g",(function(){return Me}));var n=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=r.n(n),a=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=r.n(a),s=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=r.n(s),u=r("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),l=r.n(u),f=r("./node_modules/@babel/runtime/helpers/slicedToArray.js"),d=r.n(f),v=r("./node_modules/react/index.js"),h=r.n(v),p=r("./node_modules/slate/dist/index.es.js"),g=r("./node_modules/debounce/index.js"),y=r.n(g);function m(e){return null!=e&&"object"==typeof e&&1===e.nodeType}function b(e,t){return(!t||"hidden"!==e)&&("visible"!==e&&"clip"!==e)}function w(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return b(r.overflowY,t)||b(r.overflowX,t)||function(e){var t=function(e){return e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView.frameElement:null}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function x(e,t,r,n,o,a,i,s){return a<e&&i>t||a>e&&i<t?0:a<=e&&s<=r||i>=t&&s>=r?a-e-n:i>t&&s<r||a<e&&s>r?i-t+o:0}var O=function(e,t){var r=t.scrollMode,n=t.block,o=t.inline,a=t.boundary,i=t.skipOverflowHiddenElements,s="function"==typeof a?a:function(e){return e!==a};if(!m(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,u=[],l=e;m(l)&&s(l);){if((l=l.parentNode)===c){u.push(l);break}l===document.body&&w(l)&&!w(document.documentElement)||w(l,i)&&u.push(l)}for(var f=window.visualViewport?visualViewport.width:innerWidth,d=window.visualViewport?visualViewport.height:innerHeight,v=window.scrollX||pageXOffset,h=window.scrollY||pageYOffset,p=e.getBoundingClientRect(),g=p.height,y=p.width,b=p.top,O=p.right,k=p.bottom,E=p.left,j="start"===n||"nearest"===n?b:"end"===n?k:b+g/2,P="center"===o?E+y/2:"end"===o?O:E,F=[],C=0;C<u.length;C++){var S=u[C],D=S.getBoundingClientRect(),A=D.height,B=D.width,_=D.top,N=D.right,M=D.bottom,R=D.left;if("if-needed"===r&&b>=0&&E>=0&&k<=d&&O<=f&&b>=_&&k<=M&&E>=R&&O<=N)return F;var T=getComputedStyle(S),L=parseInt(T.borderLeftWidth,10),z=parseInt(T.borderTopWidth,10),W=parseInt(T.borderRightWidth,10),I=parseInt(T.borderBottomWidth,10),q=0,V=0,K="offsetWidth"in S?S.offsetWidth-S.clientWidth-L-W:0,H="offsetHeight"in S?S.offsetHeight-S.clientHeight-z-I:0;if(c===S)q="start"===n?j:"end"===n?j-d:"nearest"===n?x(h,h+d,d,z,I,h+j,h+j+g,g):j-d/2,V="start"===o?P:"center"===o?P-f/2:"end"===o?P-f:x(v,v+f,f,L,W,v+P,v+P+y,y),q=Math.max(0,q+h),V=Math.max(0,V+v);else{q="start"===n?j-_-z:"end"===n?j-M+I+H:"nearest"===n?x(_,M,A,z,I+H,j,j+g,g):j-(_+A/2)+H/2,V="start"===o?P-R-L:"center"===o?P-(R+B/2)+K/2:"end"===o?P-N+W+K:x(R,N,B,L,W+K,P,P+y,y);var J=S.scrollLeft,U=S.scrollTop;j+=U-(q=Math.max(0,Math.min(U+q,S.scrollHeight-A+H))),P+=J-(V=Math.max(0,Math.min(J+V,S.scrollWidth-B+K)))}F.push({el:S,top:q,left:V})}return F};function k(e){return e===Object(e)&&0!==Object.keys(e).length}var E=function(e,t){var r=!e.ownerDocument.documentElement.contains(e);if(k(t)&&"function"==typeof t.behavior)return t.behavior(r?[]:O(e,t));if(!r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:k(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,o=e.top,a=e.left;n.scroll&&r?n.scroll({top:o,left:a,behavior:t}):(n.scrollTop=o,n.scrollLeft=a)}))}(O(e,n),n.behavior)}},j=r("./node_modules/direction/index.js"),P=r.n(j),F=r("./node_modules/is-hotkey/lib/index.js"),C=r("./node_modules/@hot-loader/react-dom/index.js"),S=r.n(C);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=function(e){var t=e.isLast,r=e.leaf,n=e.parent,o=e.text,a=re(),i=Ae.findPath(a,o),s=p.e.parent(i);return a.isVoid(n)?h.a.createElement(N,{length:p.c.string(n).length}):""!==r.text||n.children[n.children.length-1]!==o||a.isInline(n)||""!==p.a.string(a,s)?""===r.text?h.a.createElement(N,null):t&&"\n"===r.text.slice(-1)?h.a.createElement(_,{isTrailing:!0,text:r.text}):h.a.createElement(_,{text:r.text}):h.a.createElement(N,{isLineBreak:!0})},_=function(e){var t=e.text,r=e.isTrailing,n=void 0!==r&&r;return h.a.createElement("span",{"data-slate-string":!0},t,n?"\n":null)},N=function(e){var t=e.length,r=void 0===t?0:t,n=e.isLineBreak,o=void 0!==n&&n;return h.a.createElement("span",{"data-slate-zero-width":o?"n":"z","data-slate-length":r},"\ufeff",o?h.a.createElement("br",null):null)},M=new WeakMap,R=new WeakMap,T=new WeakMap,L=new WeakMap,z=new WeakMap,W=new WeakMap,I=new WeakMap,q=new WeakMap,V=new WeakMap,K=new WeakMap,H=Symbol("placeholder"),J=h.a.memo((function(e){var t=e.leaf,r=e.isLast,n=e.text,o=e.parent,a=e.renderLeaf,i=void 0===a?function(e){return h.a.createElement(U,Object.assign({},e))}:a,s=h.a.createElement(B,{isLast:r,leaf:t,parent:o,text:n});t[H]&&(s=h.a.createElement(h.a.Fragment,null,h.a.createElement("span",{contentEditable:!1,style:{pointerEvents:"none",display:"inline-block",verticalAlign:"text-top",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"}},t.placeholder),s));return i({attributes:{"data-slate-leaf":!0},children:s,leaf:t,text:n})}),(function(e,t){return t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&p.h.matches(t.leaf,e.leaf)})),U=function(e){var t=e.attributes,r=e.children;return h.a.createElement("span",Object.assign({},t),r)},Y="undefined"!=typeof window?v.useLayoutEffect:v.useEffect,X=h.a.memo((function(e){for(var t=e.decorations,r=e.isLast,n=e.parent,o=e.renderLeaf,a=e.text,i=re(),s=Object(v.useRef)(null),c=p.h.decorations(a,t),u=Ae.findKey(i,a),l=[],f=0;f<c.length;f++){var d=c[f];l.push(h.a.createElement(J,{isLast:r&&f===c.length-1,key:"".concat(u.id,"-").concat(f),leaf:d,text:a,parent:n,renderLeaf:o}))}return Y((function(){s.current?(z.set(u,s.current),W.set(a,s.current),L.set(s.current,a)):(z.delete(u),W.delete(a))})),h.a.createElement("span",{"data-slate-node":"text",ref:s},l)}),(function(e,t){return t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text})),Z=Object(v.createContext)(!1),$=function(){return Object(v.useContext)(Z)},G=h.a.memo((function(e){var t=e.decorate,r=e.decorations,n=e.element,o=e.renderElement,a=void 0===o?function(e){return h.a.createElement(Q,Object.assign({},e))}:o,i=e.renderLeaf,s=e.selection,c=Object(v.useRef)(null),u=re(),l=ve(),f=u.isInline(n),g=Ae.findKey(u,n),y=h.a.createElement(ne,{decorate:t,decorations:r,node:n,renderElement:a,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:c};if(f&&(m["data-slate-inline"]=!0),!f&&p.a.hasInlines(u,n)){var b=p.c.string(n),w=P()(b);"rtl"===w&&(m.dir=w)}if(p.a.isVoid(u,n)){m["data-slate-void"]=!0,!l&&f&&(m.contentEditable=!1);var x=f?"span":"div",O=p.c.texts(n),k=d()(O,1),E=d()(k[0],1)[0];y=l?null:h.a.createElement(x,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},h.a.createElement(X,{decorations:[],isLast:!1,parent:n,text:E})),M.set(E,0),R.set(E,n)}return Y((function(){c.current?(z.set(g,c.current),W.set(n,c.current),L.set(c.current,n)):(z.delete(g),W.delete(n))})),h.a.createElement(Z.Provider,{value:!!s},a({attributes:m,children:y,element:n}))}),(function(e,t){return e.decorate===t.decorate&&e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&ee(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&p.g.equals(e.selection,t.selection))})),Q=function(e){var t=e.attributes,r=e.children,n=e.element,o=re().isInline(n)?"span":"div";return h.a.createElement(o,Object.assign({},t,{style:{position:"relative"}}),r)},ee=function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],o=t[r];if(!p.g.equals(n,o))return!1}return!0},te=Object(v.createContext)(null),re=function(){var e=Object(v.useContext)(te);if(!e)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return e},ne=function(e){for(var t=e.decorate,r=e.decorations,n=e.node,o=e.renderElement,a=e.renderLeaf,i=e.selection,s=re(),c=Ae.findPath(s,n),u=[],l=p.b.isElement(n)&&!s.isInline(n)&&p.a.hasInlines(s,n),f=0;f<n.children.length;f++){var d=c.concat(f),v=n.children[f],g=Ae.findKey(s,v),y=p.a.range(s,d),m=i&&p.g.intersection(y,i),b=t([v,d]),w=!0,x=!1,O=void 0;try{for(var k,E=r[Symbol.iterator]();!(w=(k=E.next()).done);w=!0){var j=k.value,P=p.g.intersection(j,y);P&&b.push(P)}}catch(e){x=!0,O=e}finally{try{w||null==E.return||E.return()}finally{if(x)throw O}}p.b.isElement(v)?u.push(h.a.createElement(G,{decorate:t,decorations:b,element:v,key:g.id,renderElement:o,renderLeaf:a,selection:m})):u.push(h.a.createElement(X,{decorations:b,key:g.id,isLast:l&&f===n.children.length-1,parent:n,renderLeaf:a,text:v})),M.set(v,f),R.set(v,n)}return h.a.createElement(h.a.Fragment,null,u)},oe=("undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,"undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent)),ae="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ie="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),se={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},ce={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ue={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},le=function(e){var t=se[e],r=ce[e],n=ue[e],o=t&&Object(F.isKeyHotkey)(t),a=r&&Object(F.isKeyHotkey)(r),i=n&&Object(F.isKeyHotkey)(n);return function(e){return!(!o||!o(e))||(!!(oe&&a&&a(e))||!(oe||!i||!i(e)))}},fe={isBold:le("bold"),isCompose:le("compose"),isMoveBackward:le("moveBackward"),isMoveForward:le("moveForward"),isDeleteBackward:le("deleteBackward"),isDeleteForward:le("deleteForward"),isDeleteLineBackward:le("deleteLineBackward"),isDeleteLineForward:le("deleteLineForward"),isDeleteWordBackward:le("deleteWordBackward"),isDeleteWordForward:le("deleteWordForward"),isExtendBackward:le("extendBackward"),isExtendForward:le("extendForward"),isExtendLineBackward:le("extendLineBackward"),isExtendLineForward:le("extendLineForward"),isItalic:le("italic"),isMoveLineBackward:le("moveLineBackward"),isMoveLineForward:le("moveLineForward"),isMoveWordBackward:le("moveWordBackward"),isMoveWordForward:le("moveWordForward"),isRedo:le("redo"),isSplitBlock:le("splitBlock"),isTransposeCharacter:le("transposeCharacter"),isUndo:le("undo")},de=Object(v.createContext)(!1),ve=function(){return Object(v.useContext)(de)},he=Object(v.createContext)(null),pe=function(){var e=Object(v.useContext)(he);if(!e)throw new Error("The `useSlate` hook must be used inside the <SlateProvider> component's context.");return d()(e,1)[0]},ge=function(e){return ye(e)&&1===e.nodeType},ye=function(e){return e instanceof Node},me=function(e){return ye(e)&&3===e.nodeType},be=function(e,t,r){for(var n,o=e.childNodes,a=o[t],i=t,s=!1,c=!1;(ye(n=a)&&8===n.nodeType||ge(a)&&0===a.childNodes.length||ge(a)&&"false"===a.getAttribute("contenteditable"))&&(!s||!c);)i>=o.length?(s=!0,i=t-1,r="backward"):i<0?(c=!0,i=t+1,r="forward"):(a=o[i],i+="forward"===r?1:-1);return a},we=function(e){var t=e.autoFocus,r=e.decorate,n=void 0===r?xe:r,o=e.onDOMBeforeInput,a=e.placeholder,i=e.readOnly,s=void 0!==i&&i,u=e.renderElement,f=e.renderLeaf,g=e.style,m=void 0===g?{}:g,b=e.as,w=void 0===b?"div":b,x=l()(e,["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","style","as"]),O=pe(),k=Object(v.useRef)(null);q.set(O,s);var j=Object(v.useMemo)((function(){return{isComposing:!1,isUpdatingSelection:!1,latestElement:null}}),[]);Y((function(){k.current?(T.set(O,k.current),W.set(O,k.current),L.set(k.current,O)):W.delete(O)})),Y((function(){return window.document.addEventListener("selectionchange",F),function(){window.document.removeEventListener("selectionchange",F)}}),[]),Y((function(){return k.current&&k.current.addEventListener("beforeinput",P),function(){k.current&&k.current.removeEventListener("beforeinput",P)}}),[]),Y((function(){var e=O.selection,t=window.getSelection();if(!j.isComposing&&t&&Ae.isFocused(O)){var r="None"!==t.type;if(e||r){var n=e&&Ae.toDOMRange(O,e);if(!(r&&n&&Oe(t.getRangeAt(0),n))){var o=Ae.toDOMNode(O,O);if(j.isUpdatingSelection=!0,t.removeAllRanges(),n){t.addRange(n);var a=n.startContainer.parentElement;E(a,{scrollMode:"if-needed"})}setTimeout((function(){n&&ae&&o.focus(),j.isUpdatingSelection=!1}))}}}})),Object(v.useEffect)((function(){k.current&&t&&k.current.focus()}),[t]);var P=Object(v.useCallback)((function(e){if(!s&&Ee(O,e.target)&&!Pe(e,o)){var t=O.selection,r=e.inputType,n=e.dataTransfer||e.data||void 0;if("insertCompositionText"===r||"deleteCompositionText"===r)return;if(e.preventDefault(),!r.startsWith("delete")||r.startsWith("deleteBy")){var a=e.getTargetRanges(),i=d()(a,1)[0];if(i){var c=Ae.toSlateRange(O,i);t&&p.g.equals(t,c)||p.i.select(O,c)}}if(t&&p.g.isExpanded(t)&&r.startsWith("delete"))return void p.a.deleteFragment(O);switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":p.a.deleteFragment(O);break;case"deleteContent":case"deleteContentForward":p.a.deleteForward(O);break;case"deleteContentBackward":p.a.deleteBackward(O);break;case"deleteEntireSoftLine":p.a.deleteBackward(O,{unit:"line"}),p.a.deleteForward(O,{unit:"line"});break;case"deleteHardLineBackward":p.a.deleteBackward(O,{unit:"block"});break;case"deleteSoftLineBackward":p.a.deleteBackward(O,{unit:"line"});break;case"deleteHardLineForward":p.a.deleteForward(O,{unit:"block"});break;case"deleteSoftLineForward":p.a.deleteForward(O,{unit:"line"});break;case"deleteWordBackward":p.a.deleteBackward(O,{unit:"word"});break;case"deleteWordForward":p.a.deleteForward(O,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":p.a.insertBreak(O);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":n instanceof DataTransfer?Ae.insertData(O,n):"string"==typeof n&&p.a.insertText(O,n)}}}),[]),F=Object(v.useCallback)(y()((function(){if(!s&&!j.isComposing&&!j.isUpdatingSelection){var e=window.document.activeElement,t=Ae.toDOMNode(O,O),r=window.getSelection(),n=r&&r.rangeCount>0&&r.getRangeAt(0);if(e===t?(j.latestElement=e,V.set(O,!0)):V.delete(O),n&&Ee(O,n.startContainer)&&Ee(O,n.endContainer)){var o=Ae.toSlateRange(O,n);p.i.select(O,o)}else p.i.deselect(O)}}),100),[]),C=n([O,[]]);if(a&&1===O.children.length&&1===Array.from(p.c.texts(O)).length&&""===p.c.string(O)){var S,D=p.a.start(O,[]);C.push((S={},c()(S,H,!0),c()(S,"placeholder",a),c()(S,"anchor",D),c()(S,"focus",D),S))}return h.a.createElement(de.Provider,{value:s},h.a.createElement(w,Object.assign({"data-gramm":!1,role:s?void 0:"textbox"},x,{spellCheck:ae?void 0:x.spellCheck,autoCorrect:ae?void 0:x.autoCorrect,autoCapitalize:ae?void 0:x.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s||void 0,suppressContentEditableWarning:!0,ref:k,style:A({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},m),onBeforeInput:Object(v.useCallback)((function(e){if(ae&&!s){e.preventDefault();var t=e.data;p.a.insertText(O,t)}}),[s]),onBlur:Object(v.useCallback)((function(e){if(!s&&!j.isUpdatingSelection&&Ee(O,e.target)&&!je(e,x.onBlur)&&j.latestElement!==window.document.activeElement){var t=e.relatedTarget;if(!(t===Ae.toDOMNode(O,O)||ge(t)&&t.hasAttribute("data-slate-spacer"))){if(null!=t&&ye(t)&&Ae.hasDOMNode(O,t)){var r=Ae.toSlateNode(O,t);if(p.b.isElement(r)&&!O.isVoid(r))return}V.delete(O)}}}),[s,x.onBlur]),onClick:Object(v.useCallback)((function(e){if(!s&&ke(O,e.target)&&!je(e,x.onClick)&&ye(e.target)){var t=Ae.toSlateNode(O,e.target),r=Ae.findPath(O,t),n=p.a.start(O,r);if(p.a.void(O,{at:n})){var o=p.a.range(O,n);p.i.select(O,o)}}}),[s,x.onClick]),onCompositionEnd:Object(v.useCallback)((function(e){Ee(O,e.target)&&!je(e,x.onCompositionEnd)&&(j.isComposing=!1,ie||ae||!e.data||p.a.insertText(O,e.data))}),[x.onCompositionEnd]),onCompositionStart:Object(v.useCallback)((function(e){Ee(O,e.target)&&!je(e,x.onCompositionStart)&&(j.isComposing=!0)}),[x.onCompositionStart]),onCopy:Object(v.useCallback)((function(e){Ee(O,e.target)&&!je(e,x.onCopy)&&(e.preventDefault(),Fe(e.clipboardData,O))}),[x.onCopy]),onCut:Object(v.useCallback)((function(e){if(!s&&Ee(O,e.target)&&!je(e,x.onCut)){e.preventDefault(),Fe(e.clipboardData,O);var t=O.selection;t&&p.g.isExpanded(t)&&p.a.deleteFragment(O)}}),[s,x.onCut]),onDragOver:Object(v.useCallback)((function(e){if(ke(O,e.target)&&!je(e,x.onDragOver)){var t=Ae.toSlateNode(O,e.target);p.a.isVoid(O,t)&&e.preventDefault()}}),[x.onDragOver]),onDragStart:Object(v.useCallback)((function(e){if(ke(O,e.target)&&!je(e,x.onDragStart)){var t=Ae.toSlateNode(O,e.target),r=Ae.findPath(O,t);if(p.a.void(O,{at:r})){var n=p.a.range(O,r);p.i.select(O,n)}Fe(e.dataTransfer,O)}}),[x.onDragStart]),onDrop:Object(v.useCallback)((function(e){if(ke(O,e.target)&&!s&&!je(e,x.onDrop)&&(ae||!ie&&e.dataTransfer.files.length>0)){e.preventDefault();var t=Ae.findEventRange(O,e),r=e.dataTransfer;p.i.select(O,t),Ae.insertData(O,r)}}),[s,x.onDrop]),onFocus:Object(v.useCallback)((function(e){if(!s&&!j.isUpdatingSelection&&Ee(O,e.target)&&!je(e,x.onFocus)){var t=Ae.toDOMNode(O,O);if(j.latestElement=window.document.activeElement,ae&&e.target!==t)return void t.focus();V.set(O,!0)}}),[s,x.onFocus]),onKeyDown:Object(v.useCallback)((function(e){if(!s&&Ee(O,e.target)&&!je(e,x.onKeyDown)){var t=e.nativeEvent,r=O.selection;if(fe.isRedo(t))return e.preventDefault(),void(O.redo&&O.redo());if(fe.isUndo(t))return e.preventDefault(),void(O.undo&&O.undo());if(fe.isMoveLineBackward(t))return e.preventDefault(),void p.i.move(O,{unit:"line",reverse:!0});if(fe.isMoveLineForward(t))return e.preventDefault(),void p.i.move(O,{unit:"line"});if(fe.isExtendLineBackward(t))return e.preventDefault(),void p.i.move(O,{unit:"line",edge:"focus",reverse:!0});if(fe.isExtendLineForward(t))return e.preventDefault(),void p.i.move(O,{unit:"line",edge:"focus"});if(fe.isMoveBackward(t))return e.preventDefault(),void(r&&p.g.isCollapsed(r)?p.i.move(O,{reverse:!0}):p.i.collapse(O,{edge:"start"}));if(fe.isMoveForward(t))return e.preventDefault(),void(r&&p.g.isCollapsed(r)?p.i.move(O):p.i.collapse(O,{edge:"end"}));if(fe.isMoveWordBackward(t))return e.preventDefault(),void p.i.move(O,{unit:"word",reverse:!0});if(fe.isMoveWordForward(t))return e.preventDefault(),void p.i.move(O,{unit:"word"});if(ae){if(fe.isBold(t)||fe.isItalic(t)||fe.isTransposeCharacter(t))return void e.preventDefault();if(fe.isSplitBlock(t))return e.preventDefault(),void p.a.insertBreak(O);if(fe.isDeleteBackward(t))return e.preventDefault(),void(r&&p.g.isExpanded(r)?p.a.deleteFragment(O):p.a.deleteBackward(O));if(fe.isDeleteForward(t))return e.preventDefault(),void(r&&p.g.isExpanded(r)?p.a.deleteFragment(O):p.a.deleteForward(O));if(fe.isDeleteLineBackward(t))return e.preventDefault(),void(r&&p.g.isExpanded(r)?p.a.deleteFragment(O):p.a.deleteBackward(O,{unit:"line"}));if(fe.isDeleteLineForward(t))return e.preventDefault(),void(r&&p.g.isExpanded(r)?p.a.deleteFragment(O):p.a.deleteForward(O,{unit:"line"}));if(fe.isDeleteWordBackward(t))return e.preventDefault(),void(r&&p.g.isExpanded(r)?p.a.deleteFragment(O):p.a.deleteBackward(O,{unit:"word"}));if(fe.isDeleteWordForward(t))return e.preventDefault(),void(r&&p.g.isExpanded(r)?p.a.deleteFragment(O):p.a.deleteForward(O,{unit:"word"}))}}}),[s,x.onKeyDown]),onPaste:Object(v.useCallback)((function(e){ae&&!s&&Ee(O,e.target)&&!je(e,x.onPaste)&&(e.preventDefault(),Ae.insertData(O,e.clipboardData))}),[s,x.onPaste])}),h.a.createElement(ne,{decorate:n,decorations:C,node:O,renderElement:u,renderLeaf:f,selection:O.selection})))},xe=function(){return[]},Oe=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset||e.startContainer===t.endContainer&&e.startOffset===t.endOffset&&e.endContainer===t.startContainer&&e.endOffset===t.startOffset},ke=function(e,t){return ye(t)&&Ae.hasDOMNode(e,t)},Ee=function(e,t){return ye(t)&&Ae.hasDOMNode(e,t,{editable:!0})},je=function(e,t){return!!t&&(t(e),e.isDefaultPrevented()||e.isPropagationStopped())},Pe=function(e,t){return!!t&&(t(e),e.defaultPrevented)},Fe=function(e,t){var r=t.selection;if(r){var n=p.g.edges(r),o=d()(n,2),a=o[0],i=o[1],s=p.a.void(t,{at:a.path}),c=p.a.void(t,{at:i.path});if(!p.g.isCollapsed(r)||s){var u=Ae.toDOMRange(t,r),l=u.cloneContents(),f=l.childNodes[0];if(l.childNodes.forEach((function(e){e.textContent&&""!==e.textContent.trim()&&(f=e)})),c){var v=d()(c,1)[0],h=u.cloneRange(),g=Ae.toDOMNode(t,v);h.setEndAfter(g),l=h.cloneContents()}if(s&&(f=l.querySelector("[data-slate-spacer]")),Array.from(l.querySelectorAll("[data-slate-zero-width]")).forEach((function(e){var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),me(f)){var y=document.createElement("span");y.style.whiteSpace="pre",y.appendChild(f),l.appendChild(y),f=y}var m=p.c.fragment(t,r),b=JSON.stringify(m),w=window.btoa(encodeURIComponent(b));f.setAttribute("data-slate-fragment",w),e.setData("application/x-slate-fragment",w);var x=document.createElement("div");x.appendChild(l),e.setData("text/html",x.innerHTML),e.setData("text/plain",Ce(x))}}},Ce=function e(t){var r="";if(me(t)&&t.nodeValue)return t.nodeValue;if(ge(t)){for(var n=0,o=Array.from(t.childNodes);n<o.length;n++){r+=e(o[n])}var a=getComputedStyle(t).getPropertyValue("display");"block"!==a&&"list"!==a&&"BR"!==t.tagName||(r+="\n")}return r},Se=0,De=function e(){i()(this,e),this.id="".concat(Se++)},Ae={findKey:function(e,t){var r=I.get(t);return r||(r=new De,I.set(t,r)),r},findPath:function(e,t){for(var r=[],n=t;;){var o=R.get(n);if(null==o){if(p.a.isEditor(n))return r;break}var a=M.get(n);if(null==a)break;r.unshift(a),n=o}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},isFocused:function(e){return!!V.get(e)},isReadOnly:function(e){return!!q.get(e)},blur:function(e){var t=Ae.toDOMNode(e,e);V.set(e,!1),window.document.activeElement===t&&t.blur()},focus:function(e){var t=Ae.toDOMNode(e,e);V.set(e,!0),window.document.activeElement!==t&&t.focus({preventScroll:!0})},deselect:function(e){var t=e.selection,r=window.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&p.i.deselect(e)},hasDOMNode:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.editable,a=void 0!==o&&o,i=Ae.toDOMNode(e,e);try{r=ge(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!r&&(r.closest("[data-slate-editor]")===i&&(!a||i.isContentEditable))},insertData:function(e,t){e.insertData(t)},toDOMNode:function(e,t){var r=p.a.isEditor(t)?T.get(e):z.get(Ae.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return r},toDOMPoint:function(e,t){var r,n=p.a.node(e,t.path),o=d()(n,1)[0],a=Ae.toDOMNode(e,o);p.a.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i=0,s=0,c=Array.from(a.querySelectorAll("[data-slate-string], [data-slate-zero-width]"));s<c.length;s++){var u=c[s],l=u.childNodes[0];if(null!=l&&null!=l.textContent){var f=l.textContent.length,v=u.getAttribute("data-slate-length"),h=i+(null==v?f:parseInt(v,10));if(t.offset<=h){r=[l,Math.min(f,Math.max(0,t.offset-i))];break}i=h}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return r},toDOMRange:function(e,t){var r=t.anchor,n=t.focus,o=Ae.toDOMPoint(e,r),a=p.g.isCollapsed(t)?o:Ae.toDOMPoint(e,n),i=window.document.createRange(),s=p.g.isBackward(t)?a:o,c=p.g.isBackward(t)?o:a;return i.setStart(s[0],s[1]),i.setEnd(c[0],c[1]),i},toSlateNode:function(e,t){var r=ge(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?L.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange:function(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var r=t,n=r.clientX,o=r.clientY,a=r.target;if(null==n||null==o)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i,s=Ae.toSlateNode(e,t.target),c=Ae.findPath(e,s);if(p.a.isVoid(e,s)){var u=a.getBoundingClientRect(),l=e.isInline(s)?n-u.left<u.left+u.width-n:o-u.top<u.top+u.height-o,f=p.a.point(e,c,{edge:l?"start":"end"}),d=l?p.a.before(e,f):p.a.after(e,f);if(d)return p.a.range(e,d)}var v=window.document;if(v.caretRangeFromPoint)i=v.caretRangeFromPoint(n,o);else{var h=v.caretPositionFromPoint(n,o);h&&((i=v.createRange()).setStart(h.offsetNode,h.offset),i.setEnd(h.offsetNode,h.offset))}if(!i)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return Ae.toSlateRange(e,i)},toSlatePoint:function(e,t){var r=function(e){var t=d()(e,2),r=t[0],n=t[1];if(ge(r)&&r.childNodes.length){var o=n===r.childNodes.length,a=o?"backward":"forward";for(r=be(r,o?n-1:n,a);ge(r)&&r.childNodes.length;){var i=o?r.childNodes.length-1:0;r=be(r,i,a)}n=o&&null!=r.textContent?r.textContent.length:0}return[r,n]}(t),n=d()(r,2),a=n[0],i=n[1],s=a.parentNode,c=null,u=0;if(s){var l=s.closest('[data-slate-void="true"]'),f=s.closest("[data-slate-leaf]"),v=null;if(f){c=f.closest('[data-slate-node="text"]');var h=window.document.createRange();h.setStart(c,0),h.setEnd(a,i);var p=h.cloneContents();[].concat(o()(p.querySelectorAll("[data-slate-zero-width]")),o()(p.querySelectorAll("[contenteditable=false]"))).forEach((function(e){e.parentNode.removeChild(e)})),u=p.textContent.length,v=c}else l&&(c=(f=l.querySelector("[data-slate-leaf]")).closest('[data-slate-node="text"]'),u=(v=f).textContent.length);v&&u===v.textContent.length&&s.hasAttribute("data-slate-zero-width")&&u--}if(!c)throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t));var g=Ae.toSlateNode(e,c);return{path:Ae.findPath(e,g),offset:u}},toSlateRange:function(e,t){var r,n,o,a,i;if((t instanceof Selection?t.anchorNode:t.startContainer)&&(t instanceof Selection?(r=t.anchorNode,n=t.anchorOffset,o=t.focusNode,a=t.focusOffset,i=t.isCollapsed):(r=t.startContainer,n=t.startOffset,o=t.endContainer,a=t.endOffset,i=t.collapsed)),null==r||null==o||null==n||null==a)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var s=Ae.toSlatePoint(e,[r,n]);return{anchor:s,focus:i?s:Ae.toSlatePoint(e,[o,a])}}},Be=Object(v.createContext)(!1),_e=function(){return Object(v.useContext)(Be)},Ne=function(e){var t=e.editor,r=e.children,n=e.onChange,a=e.value,i=l()(e,["editor","children","onChange","value"]),s=Object(v.useState)(0),c=d()(s,2),u=c[0],f=c[1],p=Object(v.useMemo)((function(){return t.children=a,Object.assign(t,i),[t]}),[u,a].concat(o()(Object.values(i)))),g=Object(v.useCallback)((function(){n(t.children),f(u+1)}),[u,n]);return K.set(t,g),h.a.createElement(he.Provider,{value:p},h.a.createElement(te.Provider,{value:t},h.a.createElement(Be.Provider,{value:Ae.isFocused(t)},r)))},Me=function(e){var t=e,r=t.apply,n=t.onChange;return t.apply=function(e){var n=[];switch(e.type){case"insert_text":case"remove_text":case"set_node":var o=!0,a=!1,i=void 0;try{for(var s,c=p.a.levels(t,{at:e.path})[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=d()(s.value,2),l=u[0],f=u[1],v=Ae.findKey(t,l);n.push([f,v])}}catch(e){a=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":var h=!0,g=!1,y=void 0;try{for(var m,b=p.a.levels(t,{at:p.e.parent(e.path)})[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){var w=d()(m.value,2),x=w[0],O=w[1],k=Ae.findKey(t,x);n.push([O,k])}}catch(e){g=!0,y=e}finally{try{h||null==b.return||b.return()}finally{if(g)throw y}}}r(e);for(var E=0,j=n;E<j.length;E++){var P=d()(j[E],2),F=P[0],C=P[1],S=p.a.node(t,F),D=d()(S,1)[0];I.set(D,C)}},t.insertData=function(e){var r=e.getData("application/x-slate-fragment");if(r){var n=decodeURIComponent(window.atob(r)),o=JSON.parse(n);p.i.insertFragment(t,o)}else{var a=e.getData("text/plain");if(a){var i=a.split(/\r\n|\r|\n/).filter((function(e){return e.length>0})),s=!1,c=!0,u=!1,l=void 0;try{for(var f,d=i[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var v=f.value;s&&p.i.splitNodes(t,{always:!0}),p.i.insertText(t,v),s=!0}}catch(e){u=!0,l=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}}}},t.onChange=function(){S.a.unstable_batchedUpdates((function(){var e=K.get(t);e&&e(),n()}))},t}},"./node_modules/slate/dist/index.es.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return I})),r.d(t,"b",(function(){return q})),r.d(t,"c",(function(){return K})),r.d(t,"d",(function(){return U})),r.d(t,"e",(function(){return Y})),r.d(t,"f",(function(){return G})),r.d(t,"g",(function(){return te})),r.d(t,"h",(function(){return ae})),r.d(t,"i",(function(){return he})),r.d(t,"j",(function(){return P}));var n=r("./node_modules/@babel/runtime/regenerator/index.js"),o=r.n(n),a=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=r.n(a),s=r("./node_modules/@babel/runtime/helpers/slicedToArray.js"),c=r.n(s),u=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=r.n(u),f=r("./node_modules/@babel/runtime/helpers/typeof.js"),d=r.n(f);
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function v(e){return!0==(null!=(t=e)&&"object"===d()(t)&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var t}function h(e){var t,r;return!1!==v(e)&&("function"==typeof(t=e.constructor)&&(!1!==v(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}var p=r("./node_modules/immer/dist/immer.module.js"),g=r("./node_modules/esrever/esrever.js");function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=new WeakMap,b=new WeakMap,w=new WeakMap,x=new WeakMap,O=new WeakMap,k=new WeakMap;function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=function(){var e={children:[],operations:[],selection:null,marks:null,isInline:function(){return!1},isVoid:function(){return!1},onChange:function(){},apply:function(t){var r=!0,n=!1,o=void 0;try{for(var a,i=I.pathRefs(e)[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var s=a.value;X.transform(s,t)}}catch(e){n=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}var c=!0,u=!1,l=void 0;try{for(var f,d=I.pointRefs(e)[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var v=f.value;Q.transform(v,t)}}catch(e){u=!0,l=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}var h=!0,p=!1,g=void 0;try{for(var y,w=I.rangeRefs(e)[Symbol.iterator]();!(h=(y=w.next()).done);h=!0){var x=y.value;re.transform(x,t)}}catch(e){p=!0,g=e}finally{try{h||null==w.return||w.return()}finally{if(p)throw g}}var O=new Set,k=[],E=function(e){if(e){var t=e.join(",");O.has(t)||(O.add(t),k.push(e))}},j=m.get(e)||[],P=F(t),C=!0,S=!1,D=void 0;try{for(var A,B=j[Symbol.iterator]();!(C=(A=B.next()).done);C=!0){var _=A.value;E(Y.transform(_,t))}}catch(e){S=!0,D=e}finally{try{C||null==B.return||B.return()}finally{if(S)throw D}}var N=!0,M=!1,R=void 0;try{for(var T,L=P[Symbol.iterator]();!(N=(T=L.next()).done);N=!0){E(T.value)}}catch(e){M=!0,R=e}finally{try{N||null==L.return||L.return()}finally{if(M)throw R}}m.set(e,k),I.transform(e,t),e.operations.push(t),I.normalize(e),"set_selection"===t.type&&(e.marks=null),b.get(e)||(b.set(e,!0),Promise.resolve().then((function(){b.set(e,!1),e.onChange(),e.operations=[]})))},addMark:function(t,r){var n=e.selection;if(n)if(te.isExpanded(n))he.setNodes(e,l()({},t,r),{match:ae.isText,split:!0});else{var o=j({},I.marks(e)||{},l()({},t,r));e.marks=o,e.onChange()}},deleteBackward:function(t){var r=e.selection;r&&te.isCollapsed(r)&&he.delete(e,{unit:t,reverse:!0})},deleteForward:function(t){var r=e.selection;r&&te.isCollapsed(r)&&he.delete(e,{unit:t})},deleteFragment:function(){var t=e.selection;t&&te.isExpanded(t)&&he.delete(e)},insertBreak:function(){he.splitNodes(e,{always:!0})},insertFragment:function(t){he.insertFragment(e,t)},insertNode:function(t){he.insertNodes(e,t)},insertText:function(t){var r=e.selection,n=e.marks;if(r){if(te.isCollapsed(r)){var o=I.above(e,{match:function(t){return I.isInline(e,t)},mode:"highest"});if(o){var a=c()(o,2)[1];if(I.isEnd(e,r.anchor,a)){var i=I.after(e,a);he.setSelection(e,{anchor:i,focus:i})}}}if(n){var s=j({text:t},n);he.insertNodes(e,s)}else he.insertText(e,t);e.marks=null}},normalizeNode:function(t){var r=c()(t,2),n=r[0],o=r[1];if(!ae.isText(n))if(q.isElement(n)&&0===n.children.length){he.insertNodes(e,{text:""},{at:o.concat(0),voids:!0})}else for(var a=!I.isEditor(n)&&(q.isElement(n)&&(e.isInline(n)||0===n.children.length||ae.isText(n.children[0])||e.isInline(n.children[0]))),i=0,s=0;s<n.children.length;s++,i++){var u=n.children[s],l=n.children[s-1],f=s===n.children.length-1;if((ae.isText(u)||q.isElement(u)&&e.isInline(u))!==a)he.removeNodes(e,{at:o.concat(i),voids:!0}),i--;else if(q.isElement(u)){if(e.isInline(u))if(null!=l&&ae.isText(l)){if(f){he.insertNodes(e,{text:""},{at:o.concat(i+1),voids:!0}),i++}}else{he.insertNodes(e,{text:""},{at:o.concat(i),voids:!0}),i++}}else null!=l&&ae.isText(l)&&(ae.equals(u,l,{loose:!0})?(he.mergeNodes(e,{at:o.concat(i),voids:!0}),i--):""===l.text?(he.removeNodes(e,{at:o.concat(i-1),voids:!0}),i--):f&&""===u.text&&(he.removeNodes(e,{at:o.concat(i),voids:!0}),i--))}},removeMark:function(t){var r=e.selection;if(r)if(te.isExpanded(r))he.unsetNodes(e,t,{match:ae.isText,split:!0});else{var n=j({},I.marks(e)||{});delete n[t],e.marks=n,e.onChange()}}};return e},F=function(e){switch(e.type){case"insert_text":case"remove_text":case"set_node":var t=e.path;return Y.levels(t);case"insert_node":var r=e.node,n=e.path,o=Y.levels(n),a=ae.isText(r)?[]:Array.from(K.nodes(r),(function(e){var t=c()(e,2)[1];return n.concat(t)}));return[].concat(i()(o),i()(a));case"merge_node":var s=e.path,u=Y.ancestors(s),l=Y.previous(s);return[].concat(i()(u),[l]);case"move_node":var f=e.path,d=e.newPath;if(Y.equals(f,d))return[];var v=[],h=[],p=!0,g=!1,y=void 0;try{for(var m,b=Y.ancestors(f)[Symbol.iterator]();!(p=(m=b.next()).done);p=!0){var w=m.value,x=Y.transform(w,e);v.push(x)}}catch(e){g=!0,y=e}finally{try{p||null==b.return||b.return()}finally{if(g)throw y}}var O=!0,k=!1,E=void 0;try{for(var j,P=Y.ancestors(d)[Symbol.iterator]();!(O=(j=P.next()).done);O=!0){var F=j.value,C=Y.transform(F,e);h.push(C)}}catch(e){k=!0,E=e}finally{try{O||null==P.return||P.return()}finally{if(k)throw E}}return[].concat(v,h);case"remove_node":var S=e.path,D=Y.ancestors(S);return i()(D);case"split_node":var A=e.path,B=Y.levels(A),_=Y.next(A);return[].concat(i()(B),[_]);default:return[]}};function C(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var S=/\s/,D=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,A=/['\u2018\u2019]/,B=function(e){for(var t=0,r=null,n=e.charCodeAt(0);n;)if(M(n)){var o=R(n,e,t);if("SURR"===r||"BMP"===r)break;t+=2,r=o?"MOD":"SURR",n=e.charCodeAt(t)}else if(8205!==n)if(L(n)){if(r&&"ZWJ"!==r&&"VAR"!==r)break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!T(n)){if("MOD"===r){t+=1;break}break}if(r&&"ZWJ"!==r)break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},_=function(e){for(var t,r=0,n=0,o=!1;t=e.charAt(n);){var a=B(t);t=e.slice(n,n+a);var i=e.slice(n+a);if(N(t,i))o=!0,r+=a;else{if(o)break;r+=a}n+=a}return r},N=function e(t,r){if(S.test(t))return!1;if(A.test(t)){var n=r.charAt(0),o=B(n);if(e(n=r.slice(0,o),r.slice(o)))return!0}return!D.test(t)},M=function(e){return 55296<=e&&e<=57343},R=function(e,t,r){if(55356===e){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},T=function(e){return e<=65039&&e>=65024},L=function(e){return 10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e};function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I={above:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.voids,n=void 0!==r&&r,o=t.mode,a=void 0===o?"lowest":o,i=t.at,s=void 0===i?e.selection:i,u=t.match;if(s){var l=I.path(e,s),f="lowest"===a,d=!0,v=!1,h=void 0;try{for(var p,g=I.levels(e,{at:l,voids:n,match:u,reverse:f})[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var y=c()(p.value,2),m=y[0],b=y[1];if(!ae.isText(m)&&!Y.equals(l,b))return[m,b]}}catch(e){v=!0,h=e}finally{try{d||null==g.return||g.return()}finally{if(v)throw h}}}},addMark:function(e,t,r){e.addMark(t,r)},after:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=I.point(e,t,{edge:"end"}),a=I.end(e,[]),i={anchor:o,focus:a},s=n.distance,c=void 0===s?1:s,u=0,l=!0,f=!1,d=void 0;try{for(var v,h=I.positions(e,W({},n,{at:i}))[Symbol.iterator]();!(l=(v=h.next()).done);l=!0){var p=v.value;if(u>c)break;0!==u&&(r=p),u++}}catch(e){f=!0,d=e}finally{try{l||null==h.return||h.return()}finally{if(f)throw d}}return r},before:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=I.start(e,[]),a=I.point(e,t,{edge:"start"}),i={anchor:o,focus:a},s=n.distance,c=void 0===s?1:s,u=0,l=!0,f=!1,d=void 0;try{for(var v,h=I.positions(e,W({},n,{at:i,reverse:!0}))[Symbol.iterator]();!(l=(v=h.next()).done);l=!0){var p=v.value;if(u>c)break;0!==u&&(r=p),u++}}catch(e){f=!0,d=e}finally{try{l||null==h.return||h.return()}finally{if(f)throw d}}return r},deleteBackward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.unit,n=void 0===r?"character":r;e.deleteBackward(n)},deleteForward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.unit,n=void 0===r?"character":r;e.deleteForward(n)},deleteFragment:function(e){e.deleteFragment()},edges:function(e,t){return[I.start(e,t),I.end(e,t)]},end:function(e,t){return I.point(e,t,{edge:"end"})},first:function(e,t){var r=I.path(e,t,{edge:"start"});return I.node(e,r)},fragment:function(e,t){var r=I.range(e,t),n=K.fragment(e,r);return n},hasBlocks:function(e,t){return t.children.some((function(t){return I.isBlock(e,t)}))},hasInlines:function(e,t){return t.children.some((function(t){return ae.isText(t)||I.isInline(e,t)}))},hasTexts:function(e,t){return t.children.every((function(e){return ae.isText(e)}))},insertBreak:function(e){e.insertBreak()},insertFragment:function(e,t){e.insertFragment(t)},insertNode:function(e,t){e.insertNode(t)},insertText:function(e,t){e.insertText(t)},isBlock:function(e,t){return q.isElement(t)&&!e.isInline(t)},isEditor:function(e){return h(e)&&"function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||h(e.marks))&&(null===e.selection||te.isRange(e.selection))&&K.isNodeList(e.children)&&U.isOperationList(e.operations)},isEnd:function(e,t,r){var n=I.end(e,r);return G.equals(t,n)},isEdge:function(e,t,r){return I.isStart(e,t,r)||I.isEnd(e,t,r)},isEmpty:function(e,t){var r=t.children,n=c()(r,1)[0];return 0===r.length||1===r.length&&ae.isText(n)&&""===n.text&&!e.isVoid(t)},isInline:function(e,t){return q.isElement(t)&&e.isInline(t)},isNormalizing:function(e){var t=w.get(e);return void 0===t||t},isStart:function(e,t,r){if(0!==t.offset)return!1;var n=I.start(e,r);return G.equals(t,n)},isVoid:function(e,t){return q.isElement(t)&&e.isVoid(t)},last:function(e,t){var r=I.path(e,t,{edge:"end"});return I.node(e,r)},leaf:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=I.path(e,t,r),o=K.leaf(e,n);return[o,n]},levels:function(e){var t=arguments;return(o.a.mark((function r(){var n,a,i,s,u,l,f,d,v,h,p,g,y,m,b,w,x,O;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>1&&void 0!==t[1]?t[1]:{},a=n.at,i=void 0===a?e.selection:a,s=n.reverse,u=void 0!==s&&s,l=n.voids,f=void 0!==l&&l,null==(d=n.match)&&(d=function(){return!0}),i){r.next=6;break}return r.abrupt("return");case 6:v=[],h=I.path(e,i),p=!0,g=!1,y=void 0,r.prev=11,m=K.levels(e,h)[Symbol.iterator]();case 13:if(p=(b=m.next()).done){r.next=23;break}if(w=c()(b.value,2),x=w[0],O=w[1],d(x)){r.next=17;break}return r.abrupt("continue",20);case 17:if(v.push([x,O]),f||!I.isVoid(e,x)){r.next=20;break}return r.abrupt("break",23);case 20:p=!0,r.next=13;break;case 23:r.next=29;break;case 25:r.prev=25,r.t0=r.catch(11),g=!0,y=r.t0;case 29:r.prev=29,r.prev=30,p||null==m.return||m.return();case 32:if(r.prev=32,!g){r.next=35;break}throw y;case 35:return r.finish(32);case 36:return r.finish(29);case 37:return u&&v.reverse(),r.delegateYield(v,"t1",39);case 39:case"end":return r.stop()}}),r,null,[[11,25,29,37],[30,,32,36]])}))())},marks:function(e){var t=e.marks,r=e.selection;if(!r)return null;if(t)return t;if(te.isExpanded(r)){var n=I.nodes(e,{match:ae.isText}),o=c()(n,1)[0];return o?C(c()(o,1)[0],["text"]):{}}var a=r.anchor,i=a.path,s=I.leaf(e,i),u=c()(s,1)[0];if(0===a.offset){var l=I.previous(e,{at:i,match:ae.isText}),f=I.above(e,{match:function(t){return I.isBlock(e,t)}});if(l&&f){var d=c()(l,2),v=d[0],h=d[1],p=c()(f,2)[1];Y.isAncestor(p,h)&&(u=v)}}return C(u,["text"])},next:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.mode,n=void 0===r?"lowest":r,o=t.voids,a=void 0!==o&&o,i=t.match,s=t.at,u=void 0===s?e.selection:s;if(u){var l=I.last(e,u),f=c()(l,2),d=f[1],v=I.last(e,[]),h=c()(v,2),p=h[1],g=[d,p];if(Y.isPath(u)&&0===u.length)throw new Error("Cannot get the next node from the root node!");if(null==i)if(Y.isPath(u)){var y=I.parent(e,u),m=c()(y,1),b=m[0];i=function(e){return b.children.includes(e)}}else i=function(){return!0};var w=I.nodes(e,{at:g,match:i,mode:n,voids:a}),x=c()(w,2),O=x[1];return O}},node:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=I.path(e,t,r),o=K.get(e,n);return[o,n]},nodes:function(e){var t=arguments;return(o.a.mark((function r(){var n,a,i,s,u,l,f,d,v,h,p,g,y,m,b,w,x,O,k,E,j,P,F,C,S,D,A,B,_;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>1&&void 0!==t[1]?t[1]:{},a=n.at,i=void 0===a?e.selection:a,s=n.mode,u=void 0===s?"all":s,l=n.universal,f=void 0!==l&&l,d=n.reverse,v=void 0!==d&&d,h=n.voids,p=void 0!==h&&h,(g=n.match)||(g=function(){return!0}),i){r.next=6;break}return r.abrupt("return");case 6:V.isSpan(i)?(y=i[0],m=i[1]):(b=I.path(e,i,{edge:"start"}),w=I.path(e,i,{edge:"end"}),y=v?w:b,m=v?b:w),x=K.nodes(e,{reverse:v,from:y,to:m,pass:function(t){var r=c()(t,1)[0];return!p&&I.isVoid(e,r)}}),O=[],E=!0,j=!1,P=void 0,r.prev=12,F=x[Symbol.iterator]();case 14:if(E=(C=F.next()).done){r.next=40;break}if(S=c()(C.value,2),D=S[0],A=S[1],B=k&&0===Y.compare(A,k[1]),"highest"!==u||!B){r.next=19;break}return r.abrupt("continue",37);case 19:if(g(D)){r.next=25;break}if(!f||B||!ae.isText(D)){r.next=24;break}return r.abrupt("return");case 24:return r.abrupt("continue",37);case 25:if("lowest"!==u||!B){r.next=28;break}return k=[D,A],r.abrupt("continue",37);case 28:if(!(_="lowest"===u?k:[D,A])){r.next=36;break}if(!f){r.next=34;break}O.push(_),r.next=36;break;case 34:return r.next=36,_;case 36:k=[D,A];case 37:E=!0,r.next=14;break;case 40:r.next=46;break;case 42:r.prev=42,r.t0=r.catch(12),j=!0,P=r.t0;case 46:r.prev=46,r.prev=47,E||null==F.return||F.return();case 49:if(r.prev=49,!j){r.next=52;break}throw P;case 52:return r.finish(49);case 53:return r.finish(46);case 54:if("lowest"!==u||!k){r.next=61;break}if(!f){r.next=59;break}O.push(k),r.next=61;break;case 59:return r.next=61,k;case 61:if(!f){r.next=63;break}return r.delegateYield(O,"t1",63);case 63:case"end":return r.stop()}}),r,null,[[12,42,46,54],[47,,49,53]])}))())},normalize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,o=function(e){return m.get(e)||[]};if(I.isNormalizing(e)){if(n){var a=Array.from(K.nodes(e),(function(e){return c()(e,2)[1]}));m.set(e,a)}0!==o(e).length&&I.withoutNormalizing(e,(function(){for(var t=42*o(e).length,r=0;0!==o(e).length;){if(r>t)throw new Error("\n            Could not completely normalize the editor after ".concat(t," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var n=o(e).pop(),a=I.node(e,n);e.normalizeNode(a),r++}}))}},parent:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=I.path(e,t,r),o=Y.parent(n),a=I.node(e,o);return a},path:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.depth,o=r.edge;if(Y.isPath(t))if("start"===o){var a=K.first(e,t),i=c()(a,2),s=i[1];t=s}else if("end"===o){var u=K.last(e,t),l=c()(u,2),f=l[1];t=f}return te.isRange(t)&&(t="start"===o?te.start(t):"end"===o?te.end(t):Y.common(t.anchor.path,t.focus.path)),G.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},pathRef:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.affinity,o=void 0===n?"forward":n,a={current:t,affinity:o,unref:function(){var t=a.current;return I.pathRefs(e).delete(a),a.current=null,t}},i=I.pathRefs(e);return i.add(a),a},pathRefs:function(e){var t=x.get(e);return t||(t=new Set,x.set(e,t)),t},point:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.edge,o=void 0===n?"start":n;if(Y.isPath(t)){var a;if("end"===o){var i=K.last(e,t),s=c()(i,2),u=s[1];a=u}else{var l=K.first(e,t),f=c()(l,2),d=f[1];a=d}var v=K.get(e,a);if(!ae.isText(v))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(t,"] because it has no ").concat(o," text node."));return{path:a,offset:"end"===o?v.text.length:0}}if(te.isRange(t)){var h=te.edges(t),p=c()(h,2),g=p[0],y=p[1];return"start"===o?g:y}return t},pointRef:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.affinity,o=void 0===n?"forward":n,a={current:t,affinity:o,unref:function(){var t=a.current;return I.pointRefs(e).delete(a),a.current=null,t}},i=I.pointRefs(e);return i.add(a),a},pointRefs:function(e){var t=O.get(e);return t||(t=new Set,O.set(e,t)),t},positions:function(e){var t=arguments;return(o.a.mark((function r(){var n,a,i,s,u,l,f,d,v,h,p,y,m,b,w,x,O,k,E,j,P,F,C,S,D,A,N,M,R,T,L;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.length>1&&void 0!==t[1]?t[1]:{},a=n.at,i=void 0===a?e.selection:a,s=n.unit,u=void 0===s?"offset":s,l=n.reverse,f=void 0!==l&&l,i){r.next=4;break}return r.abrupt("return");case 4:d=I.range(e,i),v=te.edges(d),h=c()(v,2),p=h[0],y=h[1],m=f?y:p,b="",w=0,x=0,O=null,k=!1,E=function(){null==O&&(O="character"===u?B(b):"word"===u?_(b):"line"===u||"block"===u?b.length:1,b=b.slice(O)),x=f?x-O:x+O,O=(w-=O)>=0?null:0-w},j=!0,P=!1,F=void 0,r.prev=16,C=I.nodes(e,{at:i,reverse:f})[Symbol.iterator]();case 18:if(j=(S=C.next()).done){r.next=54;break}if(D=c()(S.value,2),A=D[0],N=D[1],!q.isElement(A)){r.next=28;break}if(!e.isVoid(A)){r.next=25;break}return r.next=24,I.start(e,N);case 24:return r.abrupt("continue",51);case 25:if(!e.isInline(A)){r.next=27;break}return r.abrupt("continue",51);case 27:I.hasInlines(e,A)&&(M=Y.isAncestor(N,y.path)?y:I.end(e,N),R=Y.isAncestor(N,p.path)?p:I.start(e,N),T=I.string(e,{anchor:R,focus:M}),b=f?Object(g.reverse)(T):T,k=!0);case 28:if(!ae.isText(A)){r.next=51;break}if(L=Y.equals(N,m.path),w=A.text.length,x=f?w:0,L&&(w=f?m.offset:w-m.offset,x=m.offset),!L&&!k&&"offset"!==u){r.next=36;break}return r.next=36,{path:N,offset:x};case 36:if(""!==b){r.next=41;break}return r.abrupt("break",50);case 41:E();case 42:if(!(w>=0)){r.next=47;break}return r.next=45,{path:N,offset:x};case 45:r.next=48;break;case 47:return r.abrupt("break",50);case 48:r.next=36;break;case 50:k=!1;case 51:j=!0,r.next=18;break;case 54:r.next=60;break;case 56:r.prev=56,r.t0=r.catch(16),P=!0,F=r.t0;case 60:r.prev=60,r.prev=61,j||null==C.return||C.return();case 63:if(r.prev=63,!P){r.next=66;break}throw F;case 66:return r.finish(63);case 67:return r.finish(60);case 68:case"end":return r.stop()}}),r,null,[[16,56,60,68],[61,,63,67]])}))())},previous:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.mode,n=void 0===r?"lowest":r,o=t.voids,a=void 0!==o&&o,i=t.match,s=t.at,u=void 0===s?e.selection:s;if(u){var l=I.first(e,u),f=c()(l,2),d=f[1],v=I.first(e,[]),h=c()(v,2),p=h[1],g=[d,p];if(Y.isPath(u)&&0===u.length)throw new Error("Cannot get the previous node from the root node!");if(null==i)if(Y.isPath(u)){var y=I.parent(e,u),m=c()(y,1),b=m[0];i=function(e){return b.children.includes(e)}}else i=function(){return!0};var w=I.nodes(e,{reverse:!0,at:g,match:i,mode:n,voids:a}),x=c()(w,2),O=x[1];return O}},range:function(e,t,r){return te.isRange(t)&&!r?t:{anchor:I.start(e,t),focus:I.end(e,r||t)}},rangeRef:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.affinity,o=void 0===n?"forward":n,a={current:t,affinity:o,unref:function(){var t=a.current;return I.rangeRefs(e).delete(a),a.current=null,t}},i=I.rangeRefs(e);return i.add(a),a},rangeRefs:function(e){var t=k.get(e);return t||(t=new Set,k.set(e,t)),t},removeMark:function(e,t){e.removeMark(t)},start:function(e,t){return I.point(e,t,{edge:"start"})},string:function(e,t){var r=I.range(e,t),n=te.edges(r),o=c()(n,2),a=o[0],i=o[1],s="",u=!0,l=!1,f=void 0;try{for(var d,v=I.nodes(e,{at:r,match:ae.isText})[Symbol.iterator]();!(u=(d=v.next()).done);u=!0){var h=c()(d.value,2),p=h[0],g=h[1],y=p.text;Y.equals(g,i.path)&&(y=y.slice(0,i.offset)),Y.equals(g,a.path)&&(y=y.slice(a.offset)),s+=y}}catch(e){l=!0,f=e}finally{try{u||null==v.return||v.return()}finally{if(l)throw f}}return s},transform:function(e,t){e.children=Object(p.a)(e.children);var r=e.selection&&Object(p.a)(e.selection);switch(t.type){case"insert_node":var n=t.path,o=t.node,a=K.parent(e,n),s=n[n.length-1];if(a.children.splice(s,0,o),r){var u=!0,l=!1,f=void 0;try{for(var d,v=te.points(r)[Symbol.iterator]();!(u=(d=v.next()).done);u=!0){var h=c()(d.value,2),g=h[0];r[h[1]]=G.transform(g,t)}}catch(e){l=!0,f=e}finally{try{u||null==v.return||v.return()}finally{if(l)throw f}}}break;case"insert_text":var y=t.path,m=t.offset,b=t.text,w=K.leaf(e,y),x=w.text.slice(0,m),O=w.text.slice(m);if(w.text=x+b+O,r){var k=!0,E=!1,j=void 0;try{for(var P,F=te.points(r)[Symbol.iterator]();!(k=(P=F.next()).done);k=!0){var C=c()(P.value,2),S=C[0];r[C[1]]=G.transform(S,t)}}catch(e){E=!0,j=e}finally{try{k||null==F.return||F.return()}finally{if(E)throw j}}}break;case"merge_node":var D=t.path,A=K.get(e,D),B=Y.previous(D),_=K.get(e,B),N=K.parent(e,D),M=D[D.length-1];if(ae.isText(A)&&ae.isText(_))_.text+=A.text;else{if(ae.isText(A)||ae.isText(_))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(D,"] to nodes of different interaces: ").concat(A," ").concat(_));var R;(R=_.children).push.apply(R,i()(A.children))}if(N.children.splice(M,1),r){var T=!0,L=!1,z=void 0;try{for(var I,q=te.points(r)[Symbol.iterator]();!(T=(I=q.next()).done);T=!0){var V=c()(I.value,2),H=V[0];r[V[1]]=G.transform(H,t)}}catch(e){L=!0,z=e}finally{try{T||null==q.return||q.return()}finally{if(L)throw z}}}break;case"move_node":var J=t.path,U=t.newPath;if(Y.isAncestor(J,U))throw new Error("Cannot move a path [".concat(J,"] to new path [").concat(U,"] because the destination is inside itself."));var X=K.get(e,J),Z=K.parent(e,J),$=J[J.length-1];Z.children.splice($,1);var Q=Y.transform(J,t),ee=K.get(e,Y.parent(Q)),re=Q[Q.length-1];if(ee.children.splice(re,0,X),r){var ne=!0,oe=!1,ie=void 0;try{for(var se,ce=te.points(r)[Symbol.iterator]();!(ne=(se=ce.next()).done);ne=!0){var ue=c()(se.value,2),le=ue[0];r[ue[1]]=G.transform(le,t)}}catch(e){oe=!0,ie=e}finally{try{ne||null==ce.return||ce.return()}finally{if(oe)throw ie}}}break;case"remove_node":var fe=t.path,de=fe[fe.length-1];if(K.parent(e,fe).children.splice(de,1),r){var ve=!0,he=!1,pe=void 0;try{for(var ge,ye=te.points(r)[Symbol.iterator]();!(ve=(ge=ye.next()).done);ve=!0){var me=c()(ge.value,2),be=me[0],we=me[1],xe=G.transform(be,t);if(null!=r&&null!=xe)r[we]=xe;else{var Oe=void 0,ke=void 0,Ee=!0,je=!1,Pe=void 0;try{for(var Fe,Ce=K.texts(e)[Symbol.iterator]();!(Ee=(Fe=Ce.next()).done);Ee=!0){var Se=c()(Fe.value,2),De=Se[0],Ae=Se[1];if(-1!==Y.compare(Ae,fe)){ke=[De,Ae];break}Oe=[De,Ae]}}catch(e){je=!0,Pe=e}finally{try{Ee||null==Ce.return||Ce.return()}finally{if(je)throw Pe}}Oe?(be.path=Oe[1],be.offset=Oe[0].text.length):ke?(be.path=ke[1],be.offset=0):r=null}}}catch(e){he=!0,pe=e}finally{try{ve||null==ye.return||ye.return()}finally{if(he)throw pe}}}break;case"remove_text":var Be=t.path,_e=t.offset,Ne=t.text,Me=K.leaf(e,Be),Re=Me.text.slice(0,_e),Te=Me.text.slice(_e+Ne.length);if(Me.text=Re+Te,r){var Le=!0,ze=!1,We=void 0;try{for(var Ie,qe=te.points(r)[Symbol.iterator]();!(Le=(Ie=qe.next()).done);Le=!0){var Ve=c()(Ie.value,2),Ke=Ve[0];r[Ve[1]]=G.transform(Ke,t)}}catch(e){ze=!0,We=e}finally{try{Le||null==qe.return||qe.return()}finally{if(ze)throw We}}}break;case"set_node":var He=t.path,Je=t.newProperties;if(0===He.length)throw new Error("Cannot set properties on the root node!");var Ue=K.get(e,He);for(var Ye in Je){if("children"===Ye||"text"===Ye)throw new Error('Cannot set the "'.concat(Ye,'" property of nodes!'));var Xe=Je[Ye];null==Xe?delete Ue[Ye]:Ue[Ye]=Xe}break;case"set_selection":var Ze=t.newProperties;if(null==Ze)r=Ze;else if(null==r){if(!te.isRange(Ze))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(Ze)," when there is no current selection."));r=Ze}else Object.assign(r,Ze);break;case"split_node":var $e=t.path,Ge=t.position,Qe=t.properties;if(0===$e.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat($e,"] because the root node cannot be split."));var et,tt=K.get(e,$e),rt=K.parent(e,$e),nt=$e[$e.length-1];if(ae.isText(tt)){var ot=tt.text.slice(0,Ge),at=tt.text.slice(Ge);tt.text=ot,et=W({},tt,{},Qe,{text:at})}else{var it=tt.children.slice(0,Ge),st=tt.children.slice(Ge);tt.children=it,et=W({},tt,{},Qe,{children:st})}if(rt.children.splice(nt+1,0,et),r){var ct=!0,ut=!1,lt=void 0;try{for(var ft,dt=te.points(r)[Symbol.iterator]();!(ct=(ft=dt.next()).done);ct=!0){var vt=c()(ft.value,2),ht=vt[0];r[vt[1]]=G.transform(ht,t)}}catch(e){ut=!0,lt=e}finally{try{ct||null==dt.return||dt.return()}finally{if(ut)throw lt}}}}e.children=Object(p.b)(e.children),e.selection=r?Object(p.c)(r)?Object(p.b)(r):r:null},unhangRange:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.voids,o=void 0!==n&&n,a=te.edges(t),i=c()(a,2),s=i[0],u=i[1];if(0!==s.offset||0!==u.offset||te.isCollapsed(t))return t;var l=I.above(e,{at:u,match:function(t){return I.isBlock(e,t)}}),f=l?l[1]:[],d=I.start(e,[]),v={anchor:d,focus:u},h=!0,p=!0,g=!1,y=void 0;try{for(var m,b=I.nodes(e,{at:v,match:ae.isText,reverse:!0,voids:o})[Symbol.iterator]();!(p=(m=b.next()).done);p=!0){var w=c()(m.value,2),x=w[0],O=w[1];if(h)h=!1;else if(""!==x.text||Y.isBefore(O,f)){u={path:O,offset:x.text.length};break}}}catch(e){g=!0,y=e}finally{try{p||null==b.return||b.return()}finally{if(g)throw y}}return{anchor:s,focus:u}},void:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return I.above(e,W({},t,{match:function(t){return I.isVoid(e,t)}}))},withoutNormalizing:function(e,t){var r=I.isNormalizing(e);w.set(e,!1),t(),w.set(e,r),I.normalize(e)}},q={isElement:function(e){return h(e)&&K.isNodeList(e.children)&&!I.isEditor(e)},isElementList:function(e){return Array.isArray(e)&&(0===e.length||q.isElement(e[0]))},matches:function(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},V={isSpan:function(e){return Array.isArray(e)&&2===e.length&&e.every(Y.isPath)}},K={ancestor:function(e,t){var r=K.get(e,t);if(ae.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},ancestors:function(e,t){var r=arguments;return(o.a.mark((function n(){var a,i,s,c,u,l,f,d,v;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=r.length>2&&void 0!==r[2]?r[2]:{},i=!0,s=!1,c=void 0,n.prev=4,u=Y.ancestors(t,a)[Symbol.iterator]();case 6:if(i=(l=u.next()).done){n.next=15;break}return f=l.value,d=K.ancestor(e,f),v=[d,f],n.next=12,v;case 12:i=!0,n.next=6;break;case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(4),s=!0,c=n.t0;case 21:n.prev=21,n.prev=22,i||null==u.return||u.return();case 24:if(n.prev=24,!s){n.next=27;break}throw c;case 27:return n.finish(24);case 28:return n.finish(21);case 29:case"end":return n.stop()}}),n,null,[[4,17,21,29],[22,,24,28]])}))())},child:function(e,t){if(ae.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},children:function(e,t){var r=arguments;return(o.a.mark((function n(){var a,i,s,c,u,l,f,d;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=r.length>2&&void 0!==r[2]?r[2]:{},i=a.reverse,s=void 0!==i&&i,c=K.ancestor(e,t),u=c.children,l=s?u.length-1:0;case 5:if(!(s?l>=0:l<u.length)){n.next=13;break}return f=K.child(c,l),d=t.concat(l),n.next=10,[f,d];case 10:l=s?l-1:l+1,n.next=5;break;case 13:case"end":return n.stop()}}),n)}))())},common:function(e,t,r){var n=Y.common(t,r);return[K.get(e,n),n]},descendant:function(e,t){var r=K.get(e,t);if(I.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},descendants:function(e){var t=arguments;return(o.a.mark((function r(){var n,a,i,s,u,l,f,d,v;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:{},a=!0,i=!1,s=void 0,r.prev=4,u=K.nodes(e,n)[Symbol.iterator]();case 6:if(a=(l=u.next()).done){r.next=14;break}if(f=c()(l.value,2),d=f[0],0===(v=f[1]).length){r.next=11;break}return r.next=11,[d,v];case 11:a=!0,r.next=6;break;case 14:r.next=20;break;case 16:r.prev=16,r.t0=r.catch(4),i=!0,s=r.t0;case 20:r.prev=20,r.prev=21,a||null==u.return||u.return();case 23:if(r.prev=23,!i){r.next=26;break}throw s;case 26:return r.finish(23);case 27:return r.finish(20);case 28:case"end":return r.stop()}}),r,null,[[4,16,20,28],[21,,23,27]])}))())},elements:function(e){var t=arguments;return(o.a.mark((function r(){var n,a,i,s,u,l,f,d,v;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:{},a=!0,i=!1,s=void 0,r.prev=4,u=K.nodes(e,n)[Symbol.iterator]();case 6:if(a=(l=u.next()).done){r.next=14;break}if(f=c()(l.value,2),d=f[0],v=f[1],!q.isElement(d)){r.next=11;break}return r.next=11,[d,v];case 11:a=!0,r.next=6;break;case 14:r.next=20;break;case 16:r.prev=16,r.t0=r.catch(4),i=!0,s=r.t0;case 20:r.prev=20,r.prev=21,a||null==u.return||u.return();case 23:if(r.prev=23,!i){r.next=26;break}throw s;case 26:return r.finish(23);case 27:return r.finish(20);case 28:case"end":return r.stop()}}),r,null,[[4,16,20,28],[21,,23,27]])}))())},first:function(e,t){for(var r=t.slice(),n=K.get(e,r);n&&!ae.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment:function(e,t){if(ae.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return Object(p.d)(e,(function(e){var r=te.edges(t),n=c()(r,2),o=n[0],a=n[1],i=K.nodes(e,{reverse:!0,pass:function(e){var r=c()(e,2)[1];return!te.includes(t,r)}}),s=!0,u=!1,l=void 0;try{for(var f,d=i[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var v=c()(f.value,2)[1];if(!te.includes(t,v)){var h=K.parent(e,v),p=v[v.length-1];h.children.splice(p,1)}if(Y.equals(v,a.path)){var g=K.leaf(e,v);g.text=g.text.slice(0,a.offset)}if(Y.equals(v,o.path)){var y=K.leaf(e,v);y.text=y.text.slice(o.offset)}}}catch(e){u=!0,l=e}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}delete e.selection})).children},get:function(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(ae.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[o]}return r},has:function(e,t){for(var r=e,n=0;n<t.length;n++){var o=t[n];if(ae.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode:function(e){return ae.isText(e)||q.isElement(e)||I.isEditor(e)},isNodeList:function(e){return Array.isArray(e)&&(0===e.length||K.isNode(e[0]))},last:function(e,t){for(var r=t.slice(),n=K.get(e,r);n&&!ae.isText(n)&&0!==n.children.length;){var o=n.children.length-1;n=n.children[o],r.push(o)}return[n,r]},leaf:function(e,t){var r=K.get(e,t);if(!ae.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},levels:function(e,t){var r=arguments;return(o.a.mark((function n(){var a,i,s,c,u,l,f,d;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=r.length>2&&void 0!==r[2]?r[2]:{},i=!0,s=!1,c=void 0,n.prev=4,u=Y.levels(t,a)[Symbol.iterator]();case 6:if(i=(l=u.next()).done){n.next=14;break}return f=l.value,d=K.get(e,f),n.next=11,[d,f];case 11:i=!0,n.next=6;break;case 14:n.next=20;break;case 16:n.prev=16,n.t0=n.catch(4),s=!0,c=n.t0;case 20:n.prev=20,n.prev=21,i||null==u.return||u.return();case 23:if(n.prev=23,!s){n.next=26;break}throw c;case 26:return n.finish(23);case 27:return n.finish(20);case 28:case"end":return n.stop()}}),n,null,[[4,16,20,28],[21,,23,27]])}))())},matches:function(e,t){return q.isElement(e)&&q.matches(e,t)||ae.isText(e)&&ae.matches(e,t)},nodes:function(e){var t=arguments;return(o.a.mark((function r(){var n,a,i,s,c,u,l,f,d,v,h,p,g;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:{},a=n.pass,i=n.reverse,s=void 0!==i&&i,c=n.from,u=void 0===c?[]:c,l=n.to,f=new Set,d=[],v=e;case 6:if(!(l&&(s?Y.isBefore(d,l):Y.isAfter(d,l)))){r.next=9;break}return r.abrupt("break",37);case 9:if(f.has(v)){r.next=12;break}return r.next=12,[v,d];case 12:if(f.has(v)||ae.isText(v)||0===v.children.length||null!=a&&!1!==a([v,d])){r.next=19;break}return f.add(v),h=s?v.children.length-1:0,Y.isAncestor(d,u)&&(h=u[d.length]),d=d.concat(h),v=K.get(e,d),r.abrupt("continue",6);case 19:if(0!==d.length){r.next=21;break}return r.abrupt("break",37);case 21:if(s){r.next=27;break}if(p=Y.next(d),!K.has(e,p)){r.next=27;break}return d=p,v=K.get(e,d),r.abrupt("continue",6);case 27:if(!s||0===d[d.length-1]){r.next=32;break}return g=Y.previous(d),d=g,v=K.get(e,d),r.abrupt("continue",6);case 32:d=Y.parent(d),v=K.get(e,d),f.add(v),r.next=6;break;case 37:case"end":return r.stop()}}),r)}))())},parent:function(e,t){var r=Y.parent(t),n=K.get(e,r);if(ae.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:function(e){return ae.isText(e)?e.text:e.children.map(K.string).join("")},texts:function(e){var t=arguments;return(o.a.mark((function r(){var n,a,i,s,u,l,f,d,v;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:{},a=!0,i=!1,s=void 0,r.prev=4,u=K.nodes(e,n)[Symbol.iterator]();case 6:if(a=(l=u.next()).done){r.next=14;break}if(f=c()(l.value,2),d=f[0],v=f[1],!ae.isText(d)){r.next=11;break}return r.next=11,[d,v];case 11:a=!0,r.next=6;break;case 14:r.next=20;break;case 16:r.prev=16,r.t0=r.catch(4),i=!0,s=r.t0;case 20:r.prev=20,r.prev=21,a||null==u.return||u.return();case 23:if(r.prev=23,!i){r.next=26;break}throw s;case 26:return r.finish(23);case 27:return r.finish(20);case 28:case"end":return r.stop()}}),r,null,[[4,16,20,28],[21,,23,27]])}))())}};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U={isNodeOperation:function(e){return U.isOperation(e)&&e.type.endsWith("_node")},isOperation:function(e){if(!h(e))return!1;switch(e.type){case"insert_node":return Y.isPath(e.path)&&K.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Y.isPath(e.path);case"merge_node":return"number"==typeof e.position&&("number"==typeof e.target||null===e.target)&&Y.isPath(e.path)&&h(e.properties);case"move_node":return Y.isPath(e.path)&&Y.isPath(e.newPath);case"remove_node":return Y.isPath(e.path)&&K.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Y.isPath(e.path);case"set_node":return Y.isPath(e.path)&&h(e.properties)&&h(e.newProperties);case"set_selection":return null===e.properties&&te.isRange(e.newProperties)||null===e.newProperties&&te.isRange(e.properties)||h(e.properties)&&h(e.newProperties);case"split_node":return Y.isPath(e.path)&&"number"==typeof e.position&&("number"==typeof e.target||null===e.target)&&h(e.properties);default:return!1}},isOperationList:function(e){return Array.isArray(e)&&(0===e.length||U.isOperation(e[0]))},isSelectionOperation:function(e){return U.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation:function(e){return U.isOperation(e)&&e.type.endsWith("_text")},inverse:function(e){switch(e.type){case"insert_node":return J({},e,{type:"remove_node"});case"insert_text":return J({},e,{type:"remove_text"});case"merge_node":return J({},e,{type:"split_node",path:Y.previous(e.path)});case"move_node":var t=e.newPath,r=e.path;return Y.equals(t,r)?e:J({},e,{path:Y.transform(r,e),newPath:Y.transform(Y.next(r),e)});case"remove_node":return J({},e,{type:"insert_node"});case"remove_text":return J({},e,{type:"insert_text"});case"set_node":var n=e.properties;return J({},e,{properties:e.newProperties,newProperties:n});case"set_selection":var o=e.properties,a=e.newProperties;return J({},e,null==o?{properties:a,newProperties:null}:null==a?{properties:null,newProperties:o}:{properties:a,newProperties:o});case"split_node":return J({},e,{type:"merge_node",path:Y.next(e.path)})}}},Y={ancestors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reverse,n=void 0!==r&&r,o=Y.levels(e,t);return o=n?o.slice(1):o.slice(0,-1)},common:function(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var o=e[n];if(o!==t[n])break;r.push(o)}return r},compare:function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter:function(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],i=t[r];return Y.equals(n,o)&&a>i},endsAt:function(e,t){var r=e.length,n=e.slice(0,r),o=t.slice(0,r);return Y.equals(n,o)},endsBefore:function(e,t){var r=e.length-1,n=e.slice(0,r),o=t.slice(0,r),a=e[r],i=t[r];return Y.equals(n,o)&&a<i},equals:function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))},isAfter:function(e,t){return 1===Y.compare(e,t)},isAncestor:function(e,t){return e.length<t.length&&0===Y.compare(e,t)},isBefore:function(e,t){return-1===Y.compare(e,t)},isChild:function(e,t){return e.length===t.length+1&&0===Y.compare(e,t)},isCommon:function(e,t){return e.length<=t.length&&0===Y.compare(e,t)},isDescendant:function(e,t){return e.length>t.length&&0===Y.compare(e,t)},isParent:function(e,t){return e.length+1===t.length&&0===Y.compare(e,t)},isPath:function(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])},isSibling:function(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&Y.equals(r,n)},levels:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reverse,n=void 0!==r&&r,o=[],a=0;a<=e.length;a++)o.push(e.slice(0,a));return n&&o.reverse(),o},next:function(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent:function(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous:function(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative:function(e,t){if(!Y.isAncestor(t,e)&&!Y.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(p.d)(e,(function(n){var o=r.affinity,a=void 0===o?"forward":o;if(0!==e.length)switch(t.type){case"insert_node":var i=t.path;(Y.equals(i,n)||Y.endsBefore(i,n)||Y.isAncestor(i,n))&&(n[i.length-1]+=1);break;case"remove_node":var s=t.path;if(Y.equals(s,n)||Y.isAncestor(s,n))return null;Y.endsBefore(s,n)&&(n[s.length-1]-=1);break;case"merge_node":var c=t.path,u=t.position;Y.equals(c,n)||Y.endsBefore(c,n)?n[c.length-1]-=1:Y.isAncestor(c,n)&&(n[c.length-1]-=1,n[c.length]+=u);break;case"split_node":var l=t.path,f=t.position;if(Y.equals(l,n)){if("forward"===a)n[n.length-1]+=1;else if("backward"!==a)return null}else Y.endsBefore(l,n)?n[l.length-1]+=1:Y.isAncestor(l,n)&&e[l.length]>=f&&(n[l.length-1]+=1,n[l.length]-=f);break;case"move_node":var d=t.path,v=t.newPath;if(Y.equals(d,v))return;if(Y.isAncestor(d,n)||Y.equals(d,n)){var h=v.slice();if(Y.endsBefore(d,v)&&d.length<v.length)h[Math.min(v.length,d.length)-1]-=1;return h.concat(n.slice(d.length))}Y.endsBefore(v,n)||Y.equals(v,n)||Y.isAncestor(v,n)?(Y.endsBefore(d,n)&&(n[d.length-1]-=1),n[v.length-1]+=1):Y.endsBefore(d,n)&&(Y.equals(v,n)&&(n[v.length-1]+=1),n[d.length-1]-=1)}}))}},X={transform:function(e,t){var r=e.current,n=e.affinity;if(null!=r){var o=Y.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G={compare:function(e,t){var r=Y.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:function(e,t){return 1===G.compare(e,t)},isBefore:function(e,t){return-1===G.compare(e,t)},equals:function(e,t){return e.offset===t.offset&&Y.equals(e.path,t.path)},isPoint:function(e){return h(e)&&"number"==typeof e.offset&&Y.isPath(e.path)},transform:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(p.d)(e,(function(e){var n=r.affinity,o=void 0===n?"forward":n,a=e.path,i=e.offset;switch(t.type){case"insert_node":case"move_node":e.path=Y.transform(a,t,r);break;case"insert_text":Y.equals(t.path,a)&&t.offset<=i&&(e.offset+=t.text.length);break;case"merge_node":Y.equals(t.path,a)&&(e.offset+=t.position),e.path=Y.transform(a,t,r);break;case"remove_text":Y.equals(t.path,a)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if(Y.equals(t.path,a)||Y.isAncestor(t.path,a))return null;e.path=Y.transform(a,t,r);break;case"split_node":if(Y.equals(t.path,a)){if(t.position===i&&null==o)return null;(t.position<i||t.position===i&&"forward"===o)&&(e.offset-=t.position,e.path=Y.transform(a,t,$({},r,{affinity:"forward"})))}else e.path=Y.transform(a,t,r)}}))}},Q={transform:function(e,t){var r=e.current,n=e.affinity;if(null!=r){var o=G.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var te={edges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.reverse,n=void 0!==r&&r,o=e.anchor,a=e.focus;return te.isBackward(e)===n?[o,a]:[a,o]},end:function(e){var t=te.edges(e),r=c()(t,2)[1];return r},equals:function(e,t){return G.equals(e.anchor,t.anchor)&&G.equals(e.focus,t.focus)},includes:function(e,t){if(te.isRange(t)){if(te.includes(e,t.anchor)||te.includes(e,t.focus))return!0;var r=te.edges(e),n=c()(r,2),o=n[0],a=n[1],i=te.edges(t),s=c()(i,2),u=s[0],l=s[1];return G.isBefore(o,u)&&G.isAfter(a,l)}var f=te.edges(e),d=c()(f,2),v=d[0],h=d[1],p=!1,g=!1;return G.isPoint(t)?(p=G.compare(t,v)>=0,g=G.compare(t,h)<=0):(p=Y.compare(t,v.path)>=0,g=Y.compare(t,h.path)<=0),p&&g},intersection:function(e,t){var r=C(e,["anchor","focus"]),n=te.edges(e),o=c()(n,2),a=o[0],i=o[1],s=te.edges(t),u=c()(s,2),l=u[0],f=u[1],d=G.isBefore(a,l)?l:a,v=G.isBefore(i,f)?i:f;return G.isBefore(v,d)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:d,focus:v},r)},isBackward:function(e){var t=e.anchor,r=e.focus;return G.isAfter(t,r)},isCollapsed:function(e){var t=e.anchor,r=e.focus;return G.equals(t,r)},isExpanded:function(e){return!te.isCollapsed(e)},isForward:function(e){return!te.isBackward(e)},isRange:function(e){return h(e)&&G.isPoint(e.anchor)&&G.isPoint(e.focus)},points:function(e){return o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,[e.anchor,"anchor"];case 2:return t.next=4,[e.focus,"focus"];case 4:case"end":return t.stop()}}),t)}))()},start:function(e){var t=te.edges(e),r=c()(t,1)[0];return r},transform:function(e,t,r){var n,o,a=r.affinity,i=void 0===a?"inward":a;return"inward"===i?te.isForward(e)?(n="forward",o="backward"):(n="backward",o="forward"):"outward"===i?te.isForward(e)?(n="backward",o="forward"):(n="forward",o="backward"):(n=i,o=i),Object(p.d)(e,(function(e){var r=G.transform(e.anchor,t,{affinity:n}),a=G.transform(e.focus,t,{affinity:o});if(!r||!a)return null;e.anchor=r,e.focus=a}))}},re={transform:function(e,t){var r=e.current,n=e.affinity;if(null!=r){var o=te.transform(r,t,{affinity:n});e.current=o,null==o&&e.unref()}}};function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae={equals:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.loose,o=void 0!==n&&n;for(var a in e)if((!o||"text"!==a)&&e[a]!==t[a])return!1;for(var i in t)if((!o||"text"!==i)&&e[i]!==t[i])return!1;return!0},isText:function(e){return h(e)&&"string"==typeof e.text},isTextList:function(e){return Array.isArray(e)&&(0===e.length||ae.isText(e[0]))},matches:function(e,t){for(var r in t)if("text"!==r&&e[r]!==t[r])return!1;return!0},decorations:function(e,t){var r=[oe({},e)],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value,l=C(u,["anchor","focus"]),f=te.edges(u),d=c()(f,2),v=d[0],h=d[1],p=[],g=0,y=!0,m=!1,b=void 0;try{for(var w,x=r[Symbol.iterator]();!(y=(w=x.next()).done);y=!0){var O=w.value,k=O.text.length,E=g;if(g+=k,v.offset<=E&&h.offset>=E+k)Object.assign(O,l),p.push(O);else if(v.offset>E+k||h.offset<E||h.offset===E&&0!==E)p.push(O);else{var j=O,P=void 0,F=void 0;if(h.offset<E+k){var S=h.offset-E;F=oe({},j,{text:j.text.slice(S)}),j=oe({},j,{text:j.text.slice(0,S)})}if(v.offset>E){var D=v.offset-E;P=oe({},j,{text:j.text.slice(0,D)}),j=oe({},j,{text:j.text.slice(D)})}Object.assign(j,l),P&&p.push(P),p.push(j),F&&p.push(F)}}}catch(e){m=!0,b=e}finally{try{y||null==x.return||x.return()}finally{if(m)throw b}}r=p}}catch(e){o=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}};function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var le={insertNodes:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};I.withoutNormalizing(e,(function(){var n=r.hanging,o=void 0!==n&&n,a=r.voids,i=void 0!==a&&a,s=r.mode,u=void 0===s?"lowest":s,l=r.at,f=r.match,d=r.select;if(K.isNode(t)&&(t=[t]),0!==t.length){var v=t,h=c()(v,1)[0];if(l||(l=e.selection?e.selection:e.children.length>0?I.end(e,[]):[0],d=!0),null==d&&(d=!1),te.isRange(l))if(o||(l=I.unhangRange(e,l)),te.isCollapsed(l))l=l.anchor;else{var p=te.edges(l),g=c()(p,2)[1],y=I.pointRef(e,g);he.delete(e,{at:l}),l=y.unref()}if(G.isPoint(l)){null==f&&(f=ae.isText(h)?function(e){return ae.isText(e)}:e.isInline(h)?function(t){return ae.isText(t)||I.isInline(e,t)}:function(t){return I.isBlock(e,t)});var m=I.nodes(e,{at:l.path,match:f,mode:u,voids:i}),b=c()(m,1)[0];if(!b)return;var w=c()(b,2)[1],x=I.pathRef(e,w),O=I.isEnd(e,l,w);he.splitNodes(e,{at:l,match:f,mode:u,voids:i});var k=x.unref();l=O?Y.next(k):k}var E=Y.parent(l),j=l[l.length-1];if(i||!I.void(e,{at:E})){var P=!0,F=!1,C=void 0;try{for(var S,D=t[Symbol.iterator]();!(P=(S=D.next()).done);P=!0){var A=S.value,B=E.concat(j);j++,e.apply({type:"insert_node",path:B,node:A})}}catch(e){F=!0,C=e}finally{try{P||null==D.return||D.return()}finally{if(F)throw C}}if(d){var _=I.end(e,l);_&&he.select(e,_)}}}}))},liftNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I.withoutNormalizing(e,(function(){var r=t.at,n=void 0===r?e.selection:r,o=t.mode,a=void 0===o?"lowest":o,i=t.voids,s=void 0!==i&&i,u=t.match;if(null==u&&(u=Y.isPath(n)?de(e,n):function(t){return I.isBlock(e,t)}),n)for(var l=I.nodes(e,{at:n,match:u,mode:a,voids:s}),f=0,d=Array.from(l,(function(t){var r=c()(t,2)[1];return I.pathRef(e,r)}));f<d.length;f++){var v=d[f].unref();if(v.length<2)throw new Error("Cannot lift node at a path [".concat(v,"] because it has a depth of less than `2`."));var h=I.node(e,Y.parent(v)),p=c()(h,2),g=p[0],y=p[1],m=v[v.length-1],b=g.children.length;if(1===b){var w=Y.next(y);he.moveNodes(e,{at:v,to:w,voids:s}),he.removeNodes(e,{at:y,voids:s})}else if(0===m)he.moveNodes(e,{at:v,to:y,voids:s});else if(m===b-1){var x=Y.next(y);he.moveNodes(e,{at:v,to:x,voids:s})}else{var O=Y.next(v),k=Y.next(y);he.splitNodes(e,{at:O,voids:s}),he.moveNodes(e,{at:v,to:k,voids:s})}}}))},mergeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I.withoutNormalizing(e,(function(){var r=t.match,n=t.at,o=void 0===n?e.selection:n,a=t.hanging,i=void 0!==a&&a,s=t.voids,u=void 0!==s&&s,l=t.mode,f=void 0===l?"lowest":l;if(o){if(null==r)if(Y.isPath(o)){var d=I.parent(e,o),v=c()(d,1)[0];r=function(e){return v.children.includes(e)}}else r=function(t){return I.isBlock(e,t)};if(!i&&te.isRange(o)&&(o=I.unhangRange(e,o)),te.isRange(o))if(te.isCollapsed(o))o=o.anchor;else{var h=te.edges(o),p=c()(h,2)[1],g=I.pointRef(e,p);he.delete(e,{at:o}),o=g.unref(),null==t.at&&he.select(e,o)}var y=I.nodes(e,{at:o,match:r,voids:u,mode:f}),m=c()(y,1)[0],b=I.previous(e,{at:o,match:r,voids:u,mode:f});if(m&&b){var w=c()(m,2),x=w[0],O=w[1],k=c()(b,2),E=k[0],j=k[1];if(0!==O.length&&0!==j.length){var P,F,S=Y.next(j),D=Y.common(O,j),A=Y.isSibling(O,j),B=Array.from(I.levels(e,{at:O}),(function(e){return c()(e,1)[0]})).slice(D.length).slice(0,-1),_=I.above(e,{at:O,mode:"highest",match:function(e){return B.includes(e)&&q.isElement(e)&&1===e.children.length}}),N=_&&I.pathRef(e,_[1]);if(ae.isText(x)&&ae.isText(E)){var M=C(x,["text"]);F=E.text.length,P=M}else{if(!q.isElement(x)||!q.isElement(E))throw new Error("Cannot merge the node at path [".concat(O,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(x)," ").concat(JSON.stringify(E)));M=C(x,["children"]);F=E.children.length,P=M}A||he.moveNodes(e,{at:O,to:S,voids:u}),N&&he.removeNodes(e,{at:N.current,voids:u}),q.isElement(E)&&I.isEmpty(e,E)||ae.isText(E)&&""===E.text?he.removeNodes(e,{at:j,voids:u}):e.apply({type:"merge_node",path:S,position:F,target:null,properties:P}),N&&N.unref()}}}}))},moveNodes:function(e,t){I.withoutNormalizing(e,(function(){var r=t.to,n=t.at,o=void 0===n?e.selection:n,a=t.mode,i=void 0===a?"lowest":a,s=t.voids,u=void 0!==s&&s,l=t.match;if(o){null==l&&(l=Y.isPath(o)?de(e,o):function(t){return I.isBlock(e,t)});for(var f=I.pathRef(e,r),d=I.nodes(e,{at:o,match:l,mode:i,voids:u}),v=0,h=Array.from(d,(function(t){var r=c()(t,2)[1];return I.pathRef(e,r)}));v<h.length;v++){var p=h[v].unref(),g=f.current;0!==p.length&&e.apply({type:"move_node",path:p,newPath:g})}f.unref()}}))},removeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I.withoutNormalizing(e,(function(){var r=t.hanging,n=void 0!==r&&r,o=t.voids,a=void 0!==o&&o,i=t.mode,s=void 0===i?"lowest":i,u=t.at,l=void 0===u?e.selection:u,f=t.match;if(l){null==f&&(f=Y.isPath(l)?de(e,l):function(t){return I.isBlock(e,t)}),!n&&te.isRange(l)&&(l=I.unhangRange(e,l));for(var d=I.nodes(e,{at:l,match:f,mode:s,voids:a}),v=0,h=Array.from(d,(function(t){var r=c()(t,2)[1];return I.pathRef(e,r)}));v<h.length;v++){var p=h[v].unref();if(p){var g=I.node(e,p),y=c()(g,1)[0];e.apply({type:"remove_node",path:p,node:y})}}}}))},setNodes:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};I.withoutNormalizing(e,(function(){var n=r.match,o=r.at,a=void 0===o?e.selection:o,i=r.hanging,s=void 0!==i&&i,u=r.mode,l=void 0===u?"lowest":u,f=r.split,d=void 0!==f&&f,v=r.voids,h=void 0!==v&&v;if(a){if(null==n&&(n=Y.isPath(a)?de(e,a):function(t){return I.isBlock(e,t)}),!s&&te.isRange(a)&&(a=I.unhangRange(e,a)),d&&te.isRange(a)){var p=I.rangeRef(e,a,{affinity:"inward"}),g=te.edges(a),y=c()(g,2),m=y[0],b=y[1],w="lowest"===l?"lowest":"highest";he.splitNodes(e,{at:b,match:n,mode:w,voids:h}),he.splitNodes(e,{at:m,match:n,mode:w,voids:h}),a=p.unref(),null==r.at&&he.select(e,a)}var x=!0,O=!1,k=void 0;try{for(var E,j=I.nodes(e,{at:a,match:n,mode:l,voids:h})[Symbol.iterator]();!(x=(E=j.next()).done);x=!0){var P=c()(E.value,2),F=P[0],C=P[1],S={},D={};if(0!==C.length){for(var A in t)"children"!==A&&"text"!==A&&t[A]!==F[A]&&(S[A]=F[A],D[A]=t[A]);0!==Object.keys(D).length&&e.apply({type:"set_node",path:C,properties:S,newProperties:D})}}}catch(e){O=!0,k=e}finally{try{x||null==j.return||j.return()}finally{if(O)throw k}}}}))},splitNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I.withoutNormalizing(e,(function(){var r=t.mode,n=void 0===r?"lowest":r,o=t.voids,a=void 0!==o&&o,i=t.match,s=t.at,u=void 0===s?e.selection:s,l=t.height,f=void 0===l?0:l,d=t.always,v=void 0!==d&&d;if(null==i&&(i=function(t){return I.isBlock(e,t)}),te.isRange(u)&&(u=fe(e,u)),Y.isPath(u)){var h=u,p=I.point(e,h),g=I.parent(e,h),y=c()(g,1)[0];i=function(e){return e===y},f=p.path.length-h.length+1,u=p,v=!0}if(u){var m=I.pointRef(e,u,{affinity:"backward"}),b=I.nodes(e,{at:u,match:i,mode:n,voids:a}),w=c()(b,1)[0];if(w){var x=I.void(e,{at:u,mode:"highest"});if(!a&&x){var O=c()(x,2),k=O[0],E=O[1];if(q.isElement(k)&&e.isInline(k)){var j=I.after(e,E);if(!j){var P=Y.next(E);he.insertNodes(e,{text:""},{at:P,voids:a}),j=I.point(e,P)}u=j,v=!0}f=u.path.length-E.length+1,v=!0}var F=I.pointRef(e,u),S=u.path.length-f,D=c()(w,2)[1],A=u.path.slice(0,S),B=0===f?u.offset:u.path[S]+0,_=null,N=!0,M=!1,R=void 0;try{for(var T,L=I.levels(e,{at:A,reverse:!0,voids:a})[Symbol.iterator]();!(N=(T=L.next()).done);N=!0){var z=c()(T.value,2),W=z[0],V=z[1],K=!1;if(V.length<D.length||0===V.length||!a&&I.isVoid(e,W))break;var H=m.current,J=I.isEnd(e,H,V);if(v||!m||!I.isEdge(e,H,V)){K=!0;var U=C(W,["text","children"]);e.apply({type:"split_node",path:V,position:B,target:_,properties:U})}_=B,B=V[V.length-1]+(K||J?1:0)}}catch(e){M=!0,R=e}finally{try{N||null==L.return||L.return()}finally{if(M)throw R}}if(null==t.at){var X=F.current||I.end(e,[]);he.select(e,X)}m.unref(),F.unref()}}}))},unsetNodes:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={},o=!0,a=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;n[u]=null}}catch(e){a=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}he.setNodes(e,n,r)},unwrapNodes:function(e,t){I.withoutNormalizing(e,(function(){var r=t.mode,n=void 0===r?"lowest":r,o=t.split,a=void 0!==o&&o,i=t.voids,s=void 0!==i&&i,u=t.at,l=void 0===u?e.selection:u,f=t.match;if(l){null==f&&(f=Y.isPath(l)?de(e,l):function(t){return I.isBlock(e,t)}),Y.isPath(l)&&(l=I.range(e,l));for(var d=te.isRange(l)?I.rangeRef(e,l):null,v=I.nodes(e,{at:l,match:f,mode:n,voids:s}),h=function(t){var r=t.unref(),n=I.node(e,r),o=c()(n,1)[0],i=I.range(e,r);a&&d&&(i=te.intersection(d.current,i)),he.liftNodes(e,{at:i,match:function(e){return o.children.includes(e)},voids:s})},p=0,g=Array.from(v,(function(t){var r=c()(t,2)[1];return I.pathRef(e,r)}));p<g.length;p++){h(g[p])}d&&d.unref()}}))},wrapNodes:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};I.withoutNormalizing(e,(function(){var n=r.mode,o=void 0===n?"lowest":n,a=r.split,i=void 0!==a&&a,s=r.voids,u=void 0!==s&&s,l=r.match,f=r.at,d=void 0===f?e.selection:f;if(d){if(null==l&&(l=Y.isPath(d)?de(e,d):e.isInline(t)?function(t){return I.isInline(e,t)||ae.isText(t)}:function(t){return I.isBlock(e,t)}),i&&te.isRange(d)){var v=te.edges(d),h=c()(v,2),p=h[0],g=h[1],y=I.rangeRef(e,d,{affinity:"inward"});he.splitNodes(e,{at:g,match:l,voids:u}),he.splitNodes(e,{at:p,match:l,voids:u}),d=y.unref(),null==r.at&&he.select(e,d)}for(var m=0,b=Array.from(I.nodes(e,{at:d,match:e.isInline(t)?function(t){return I.isBlock(e,t)}:function(e){return I.isEditor(e)},mode:"highest",voids:u}));m<b.length;m++){var w=c()(b[m],2)[1],x=te.isRange(d)?te.intersection(d,I.range(e,w)):d;if(x){var O=Array.from(I.nodes(e,{at:x,match:l,mode:o,voids:u}));O.length>0&&function(){var r=c()(O,1)[0],n=O[O.length-1],o=c()(r,2)[1],a=c()(n,2)[1],i=Y.equals(o,a)?Y.parent(o):Y.common(o,a),s=I.range(e,o,a),l=I.node(e,i),f=c()(l,1)[0],d=i.length+1,v=Y.next(a.slice(0,d)),h=ue({},t,{children:[]});he.insertNodes(e,h,{at:v,voids:u}),he.moveNodes(e,{at:s,match:function(e){return f.children.includes(e)},to:v.concat(0),voids:u})}()}}}}))}},fe=function(e,t){if(te.isCollapsed(t))return t.anchor;var r=te.edges(t),n=c()(r,2)[1],o=I.pointRef(e,n);return he.delete(e,{at:t}),o.unref()},de=function(e,t){var r=I.node(e,t),n=c()(r,1)[0];return function(e){return e===n}};function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var he=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{transform:function(e,t){e.children=Object(p.a)(e.children);var r=e.selection&&Object(p.a)(e.selection);switch(t.type){case"insert_node":var n=t.path,o=t.node,a=K.parent(e,n),s=n[n.length-1];if(a.children.splice(s,0,o),r){var u=!0,l=!1,f=void 0;try{for(var d,v=te.points(r)[Symbol.iterator]();!(u=(d=v.next()).done);u=!0){var h=c()(d.value,2),g=h[0];r[h[1]]=G.transform(g,t)}}catch(e){l=!0,f=e}finally{try{u||null==v.return||v.return()}finally{if(l)throw f}}}break;case"insert_text":var y=t.path,m=t.offset,b=t.text,w=K.leaf(e,y),x=w.text.slice(0,m),O=w.text.slice(m);if(w.text=x+b+O,r){var k=!0,E=!1,j=void 0;try{for(var P,F=te.points(r)[Symbol.iterator]();!(k=(P=F.next()).done);k=!0){var C=c()(P.value,2),S=C[0];r[C[1]]=G.transform(S,t)}}catch(e){E=!0,j=e}finally{try{k||null==F.return||F.return()}finally{if(E)throw j}}}break;case"merge_node":var D=t.path,A=K.get(e,D),B=Y.previous(D),_=K.get(e,B),N=K.parent(e,D),M=D[D.length-1];if(ae.isText(A)&&ae.isText(_))_.text+=A.text;else{if(ae.isText(A)||ae.isText(_))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(D,"] to nodes of different interaces: ").concat(A," ").concat(_));var R;(R=_.children).push.apply(R,i()(A.children))}if(N.children.splice(M,1),r){var T=!0,L=!1,z=void 0;try{for(var W,I=te.points(r)[Symbol.iterator]();!(T=(W=I.next()).done);T=!0){var q=c()(W.value,2),V=q[0];r[q[1]]=G.transform(V,t)}}catch(e){L=!0,z=e}finally{try{T||null==I.return||I.return()}finally{if(L)throw z}}}break;case"move_node":var H=t.path,J=t.newPath;if(Y.isAncestor(H,J))throw new Error("Cannot move a path [".concat(H,"] to new path [").concat(J,"] because the destination is inside itself."));var U=K.get(e,H),X=K.parent(e,H),Z=H[H.length-1];X.children.splice(Z,1);var $=Y.transform(H,t),Q=K.get(e,Y.parent($)),ee=$[$.length-1];if(Q.children.splice(ee,0,U),r){var re=!0,ne=!1,oe=void 0;try{for(var ie,ce=te.points(r)[Symbol.iterator]();!(re=(ie=ce.next()).done);re=!0){var ue=c()(ie.value,2),le=ue[0];r[ue[1]]=G.transform(le,t)}}catch(e){ne=!0,oe=e}finally{try{re||null==ce.return||ce.return()}finally{if(ne)throw oe}}}break;case"remove_node":var fe=t.path,de=fe[fe.length-1];if(K.parent(e,fe).children.splice(de,1),r){var ve=!0,he=!1,pe=void 0;try{for(var ge,ye=te.points(r)[Symbol.iterator]();!(ve=(ge=ye.next()).done);ve=!0){var me=c()(ge.value,2),be=me[0],we=me[1],xe=G.transform(be,t);if(null!=r&&null!=xe)r[we]=xe;else{var Oe=void 0,ke=void 0,Ee=!0,je=!1,Pe=void 0;try{for(var Fe,Ce=K.texts(e)[Symbol.iterator]();!(Ee=(Fe=Ce.next()).done);Ee=!0){var Se=c()(Fe.value,2),De=Se[0],Ae=Se[1];if(-1!==Y.compare(Ae,fe)){ke=[De,Ae];break}Oe=[De,Ae]}}catch(e){je=!0,Pe=e}finally{try{Ee||null==Ce.return||Ce.return()}finally{if(je)throw Pe}}Oe?(be.path=Oe[1],be.offset=Oe[0].text.length):ke?(be.path=ke[1],be.offset=0):r=null}}}catch(e){he=!0,pe=e}finally{try{ve||null==ye.return||ye.return()}finally{if(he)throw pe}}}break;case"remove_text":var Be=t.path,_e=t.offset,Ne=t.text,Me=K.leaf(e,Be),Re=Me.text.slice(0,_e),Te=Me.text.slice(_e+Ne.length);if(Me.text=Re+Te,r){var Le=!0,ze=!1,We=void 0;try{for(var Ie,qe=te.points(r)[Symbol.iterator]();!(Le=(Ie=qe.next()).done);Le=!0){var Ve=c()(Ie.value,2),Ke=Ve[0];r[Ve[1]]=G.transform(Ke,t)}}catch(e){ze=!0,We=e}finally{try{Le||null==qe.return||qe.return()}finally{if(ze)throw We}}}break;case"set_node":var He=t.path,Je=t.newProperties;if(0===He.length)throw new Error("Cannot set properties on the root node!");var Ue=K.get(e,He);for(var Ye in Je){if("children"===Ye||"text"===Ye)throw new Error('Cannot set the "'.concat(Ye,'" property of nodes!'));var Xe=Je[Ye];null==Xe?delete Ue[Ye]:Ue[Ye]=Xe}break;case"set_selection":var Ze=t.newProperties;if(null==Ze)r=Ze;else if(null==r){if(!te.isRange(Ze))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(Ze)," when there is no current selection."));r=Ze}else Object.assign(r,Ze);break;case"split_node":var $e=t.path,Ge=t.position,Qe=t.properties;if(0===$e.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat($e,"] because the root node cannot be split."));var et,tt=K.get(e,$e),rt=K.parent(e,$e),nt=$e[$e.length-1];if(ae.isText(tt)){var ot=tt.text.slice(0,Ge),at=tt.text.slice(Ge);tt.text=ot,et=se({},tt,{},Qe,{text:at})}else{var it=tt.children.slice(0,Ge),st=tt.children.slice(Ge);tt.children=it,et=se({},tt,{},Qe,{children:st})}if(rt.children.splice(nt+1,0,et),r){var ct=!0,ut=!1,lt=void 0;try{for(var ft,dt=te.points(r)[Symbol.iterator]();!(ct=(ft=dt.next()).done);ct=!0){var vt=c()(ft.value,2),ht=vt[0];r[vt[1]]=G.transform(ht,t)}}catch(e){ut=!0,lt=e}finally{try{ct||null==dt.return||dt.return()}finally{if(ut)throw lt}}}}e.children=Object(p.b)(e.children),e.selection=r?Object(p.c)(r)?Object(p.b)(r):r:null}},{},le,{},{collapse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.edge,n=void 0===r?"anchor":r,o=e.selection;if(o)if("anchor"===n)he.select(e,o.anchor);else if("focus"===n)he.select(e,o.focus);else if("start"===n){var a=te.edges(o),i=c()(a,1),s=i[0];he.select(e,s)}else if("end"===n){var u=te.edges(o),l=c()(u,2),f=l[1];he.select(e,f)}},deselect:function(e){var t=e.selection;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.selection,n=t.distance,o=void 0===n?1:n,a=t.unit,i=void 0===a?"character":a,s=t.reverse,c=void 0!==s&&s,u=t.edge,l=void 0===u?null:u;if(r){"start"===l&&(l=te.isBackward(r)?"focus":"anchor"),"end"===l&&(l=te.isBackward(r)?"anchor":"focus");var f=r.anchor,d=r.focus,v={distance:o,unit:i},h={};if(null==l||"anchor"===l){var p=c?I.before(e,f,v):I.after(e,f,v);p&&(h.anchor=p)}if(null==l||"focus"===l){var g=c?I.before(e,d,v):I.after(e,d,v);g&&(h.focus=g)}he.setSelection(e,h)}},select:function(e,t){var r=e.selection;if(t=I.range(e,t),r)he.setSelection(e,t);else{if(!te.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint:function(e,t,r){var n=e.selection,o=r.edge,a=void 0===o?"both":o;if(n){"start"===a&&(a=te.isBackward(n)?"focus":"anchor"),"end"===a&&(a=te.isBackward(n)?"anchor":"focus");var i=n.anchor,s=n.focus,c="anchor"===a?i:s,u=Object.assign(c,t);"anchor"===a?he.setSelection(e,{anchor:u}):he.setSelection(e,{focus:u})}},setSelection:function(e,t){var r=e.selection,n={},o={};if(r){for(var a in t)("anchor"===a&&null!=t.anchor&&!G.equals(t.anchor,r.anchor)||"focus"===a&&null!=t.focus&&!G.equals(t.focus,r.focus)||"anchor"!==a&&"focus"!==a&&t[a]!==r[a])&&(n[a]=r[a],o[a]=t[a]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:o})}}},{},{delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I.withoutNormalizing(e,(function(){var r=t.reverse,n=void 0!==r&&r,o=t.unit,a=void 0===o?"character":o,i=t.distance,s=void 0===i?1:i,u=t.voids,l=void 0!==u&&u,f=t.at,d=void 0===f?e.selection:f,v=t.hanging,h=void 0!==v&&v;if(d){if(te.isRange(d)&&te.isCollapsed(d)&&(d=d.anchor),G.isPoint(d)){var p=I.void(e,{at:d,mode:"highest"});if(!l&&p){d=c()(p,2)[1]}else{var g={unit:a,distance:s};d={anchor:d,focus:n?I.before(e,d,g)||I.start(e,[]):I.after(e,d,g)||I.end(e,[])},h=!0}}if(Y.isPath(d))he.removeNodes(e,{at:d,voids:l});else if(!te.isCollapsed(d)){h||(d=I.unhangRange(e,d,{voids:l}));var y=te.edges(d),m=c()(y,2),b=m[0],w=m[1],x=I.above(e,{match:function(t){return I.isBlock(e,t)},at:b,voids:l}),O=I.above(e,{match:function(t){return I.isBlock(e,t)},at:w,voids:l}),k=x&&O&&!Y.equals(x[1],O[1]),E=Y.equals(b.path,w.path),j=l?null:I.void(e,{at:b,mode:"highest"}),P=l?null:I.void(e,{at:w,mode:"highest"});if(j){var F=I.before(e,b);F&&x&&Y.isAncestor(x[1],F.path)&&(b=F)}if(P){var C=I.after(e,w);C&&O&&Y.isAncestor(O[1],C.path)&&(w=C)}var S,D=[],A=!0,B=!1,_=void 0;try{for(var N,M=I.nodes(e,{at:d,voids:l})[Symbol.iterator]();!(A=(N=M.next()).done);A=!0){var R=N.value,T=c()(R,2),L=T[0],z=T[1];S&&0===Y.compare(z,S)||(!l&&I.isVoid(e,L)||!Y.isCommon(z,b.path)&&!Y.isCommon(z,w.path))&&(D.push(R),S=z)}}catch(e){B=!0,_=e}finally{try{A||null==M.return||M.return()}finally{if(B)throw _}}var W=Array.from(D,(function(t){var r=c()(t,2)[1];return I.pathRef(e,r)})),q=I.pointRef(e,b),V=I.pointRef(e,w);if(!E&&!j){var K=q.current,H=I.leaf(e,K),J=c()(H,1)[0],U=K.path,X=b.offset,Z=J.text.slice(X);e.apply({type:"remove_text",path:U,offset:X,text:Z})}for(var $=0,Q=W;$<Q.length;$++){var ee=Q[$].unref();he.removeNodes(e,{at:ee,voids:l})}if(!P){var re=V.current,ne=I.leaf(e,re),oe=c()(ne,1)[0],ae=re.path,ie=E?b.offset:0,se=oe.text.slice(ie,w.offset);e.apply({type:"remove_text",path:ae,offset:ie,text:se})}!E&&k&&V.current&&q.current&&he.mergeNodes(e,{at:V.current,hanging:!0,voids:l});var ce=V.unref()||q.unref();null==t.at&&ce&&he.select(e,ce)}}}))},insertFragment:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};I.withoutNormalizing(e,(function(){var n=r.hanging,o=void 0!==n&&n,a=r.voids,i=void 0!==a&&a,s=r.at,u=void 0===s?e.selection:s;if(t.length&&u){if(te.isRange(u))if(o||(u=I.unhangRange(e,u)),te.isCollapsed(u))u=u.anchor;else{var l=te.edges(u),f=c()(l,2)[1];if(!i&&I.void(e,{at:f}))return;var d=I.pointRef(e,f);he.delete(e,{at:u}),u=d.unref()}else Y.isPath(u)&&(u=I.start(e,u));if(i||!I.void(e,{at:u})){var v=I.above(e,{at:u,match:function(t){return I.isInline(e,t)},mode:"highest",voids:i});if(v){var h=c()(v,2)[1];if(I.isEnd(e,u,h))u=I.after(e,h);else if(I.isStart(e,u,h)){u=I.before(e,h)}}var p=I.above(e,{match:function(t){return I.isBlock(e,t)},at:u,voids:i}),g=c()(p,2)[1],y=I.isStart(e,u,g),m=I.isEnd(e,u,g),b=!y||y&&m,w=!m,x=K.first({children:t},[]),O=c()(x,2)[1],k=K.last({children:t},[]),E=c()(k,2)[1],j=[],P=function(t){var r=c()(t,2),n=r[0],o=r[1];return!(b&&Y.isAncestor(o,O)&&q.isElement(n)&&!e.isVoid(n)&&!e.isInline(n))&&!(w&&Y.isAncestor(o,E)&&q.isElement(n)&&!e.isVoid(n)&&!e.isInline(n))},F=!0,C=!1,S=void 0;try{for(var D,A=K.nodes({children:t},{pass:P})[Symbol.iterator]();!(F=(D=A.next()).done);F=!0){var B=D.value;B[1].length>0&&P(B)&&j.push(B)}}catch(e){C=!0,S=e}finally{try{F||null==A.return||A.return()}finally{if(C)throw S}}for(var _=[],N=[],M=[],R=!0,T=!1,L=0,z=j;L<z.length;L++){var W=c()(z[L],1)[0];q.isElement(W)&&!e.isInline(W)?(R=!1,T=!0,N.push(W)):R?_.push(W):M.push(W)}var V=I.nodes(e,{at:u,match:function(t){return ae.isText(t)||I.isInline(e,t)},mode:"highest",voids:i}),H=c()(V,1)[0],J=c()(H,2)[1],U=I.isStart(e,u,J),X=I.isEnd(e,u,J),Z=I.pathRef(e,m?Y.next(g):g),$=I.pathRef(e,X?Y.next(J):J);he.splitNodes(e,{at:u,match:function(t){return T?I.isBlock(e,t):ae.isText(t)||I.isInline(e,t)},mode:T?"lowest":"highest",voids:i});var G=I.pathRef(e,!U||U&&X?Y.next(J):J);if(he.insertNodes(e,_,{at:G.current,match:function(t){return ae.isText(t)||I.isInline(e,t)},mode:"highest",voids:i}),he.insertNodes(e,N,{at:Z.current,match:function(t){return I.isBlock(e,t)},mode:"lowest",voids:i}),he.insertNodes(e,M,{at:$.current,match:function(t){return ae.isText(t)||I.isInline(e,t)},mode:"highest",voids:i}),!r.at){var Q;Q=M.length>0?Y.previous($.current):N.length>0?Y.previous(Z.current):Y.previous(G.current);var ee=I.end(e,Q);he.select(e,ee)}G.unref(),Z.unref(),$.unref()}}}))},insertText:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};I.withoutNormalizing(e,(function(){var n=r.voids,o=void 0!==n&&n,a=r.at,i=void 0===a?e.selection:a;if(i){if(Y.isPath(i)&&(i=I.range(e,i)),te.isRange(i))if(te.isCollapsed(i))i=i.anchor;else{var s=te.end(i);if(!o&&I.void(e,{at:s}))return;var c=I.pointRef(e,s);he.delete(e,{at:i,voids:o}),i=c.unref(),he.setSelection(e,{anchor:i,focus:i})}if(o||!I.void(e,{at:i})){var u=i,l=u.path,f=u.offset;e.apply({type:"insert_text",path:l,offset:f,text:t})}}}))}})}}]);
//# sourceMappingURL=vendors~CollectionNewShortformEditor~CollectionPostShortformEditor~responses.editor.a494628b.chunk.js.map